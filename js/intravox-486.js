"use strict";(self.webpackChunknextcloud_intravox=self.webpackChunknextcloud_intravox||[]).push([[486],{1991:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(1601),l=a.n(n),s=a(6314),o=a.n(s)()(l());o.push([t.id,"\n.page-settings[data-v-3fc8a2e8] {\n\tpadding: 16px 0;\n}\n.settings-section[data-v-3fc8a2e8] {\n\tpadding: 0 16px;\n}\n.settings-section-header[data-v-3fc8a2e8] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tmargin: 0 0 8px 0;\n\tfont-size: 16px;\n\tfont-weight: 600;\n}\n.settings-icon[data-v-3fc8a2e8] {\n\tfont-size: 20px;\n}\n.settings-section-desc[data-v-3fc8a2e8] {\n\tmargin: 0 0 16px 0;\n\tfont-size: 13px;\n\tcolor: var(--color-text-maxcontrast);\n}\n.setting-item[data-v-3fc8a2e8] {\n\tmargin-bottom: 16px;\n\tpadding: 12px;\n\tbackground: var(--color-background-hover);\n\tborder-radius: var(--border-radius-large);\n}\n.setting-header[data-v-3fc8a2e8] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 16px;\n\tmargin-bottom: 4px;\n}\n.setting-label[data-v-3fc8a2e8] {\n\tfont-weight: 500;\n\tcolor: var(--color-main-text);\n}\n.setting-status[data-v-3fc8a2e8] {\n\tfont-size: 12px;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-style: italic;\n}\n.tri-state-select[data-v-3fc8a2e8] {\n\tmin-width: 180px;\n}\n.setting-item--disabled[data-v-3fc8a2e8] {\n\topacity: 0.6;\n}\n.setting-locked[data-v-3fc8a2e8] {\n\tpadding: 6px 12px;\n\tfont-size: 13px;\n\tcolor: var(--color-text-maxcontrast);\n\tbackground: var(--color-background-dark);\n\tborder-radius: var(--border-radius);\n\tfont-style: italic;\n}\n",""]);const i=o},8486:(t,e,a)=>{a.r(e),a.d(e,{default:()=>z});var n=a(641),l=a(33);const s={class:"page-settings"},o={class:"settings-section"},i={class:"settings-section-header"},c={class:"settings-section-desc"},g={class:"setting-header"},m={class:"setting-label"},r={key:1,class:"setting-locked"},d={class:"setting-status"},p={class:"setting-header"},v={class:"setting-label"},u={key:1,class:"setting-locked"},b={class:"setting-status"},w={class:"setting-header"},h={class:"setting-label"},x={key:1,class:"setting-locked"},C={class:"setting-status"};var k=a(5873),f=a(3334);const S={name:"PageSettingsModal",components:{NcDialog:k.i$,NcButton:k.x1,NcSelect:k.EQ},props:{settings:{type:Object,default:()=>({allowReactions:null,allowComments:null,allowCommentReactions:null})},globalSettings:{type:Object,default:()=>({allowPageReactions:!0,allowComments:!0,allowCommentReactions:!0})}},emits:["close","save"],data:()=>({localSettings:{allowReactions:null,allowComments:null,allowCommentReactions:null}}),computed:{disableOnlyOptions:()=>[{value:!1,label:(0,f.Tl)("intravox","Disabled")}],showCommentReactionsOption(){return!!this.globalSettings.allowComments&&!1!==this.localSettings.allowComments?.value}},created(){this.localSettings.allowReactions=this.mapToOption(this.settings?.allowReactions),this.localSettings.allowComments=this.mapToOption(this.settings?.allowComments),this.localSettings.allowCommentReactions=this.mapToOption(this.settings?.allowCommentReactions)},methods:{t:(t,e,a={})=>(0,f.Tl)(t,e,a),mapToOption(t){return null==t?null:!1===t?this.disableOnlyOptions.find(t=>!1===t.value):null},getStatusText(t,e){let a;if("reactions"===e?a=this.globalSettings.allowPageReactions:"comments"===e?a=this.globalSettings.allowComments:"commentReactions"===e&&(a=this.globalSettings.allowCommentReactions),!a)return this.t("intravox","Disabled by administrator");const n=t?.value;return!1===n?this.t("intravox","Disabled for this page"):this.t("intravox","Using global setting (enabled)")},save(){this.$emit("save",{allowReactions:this.localSettings.allowReactions?.value??null,allowComments:this.localSettings.allowComments?.value??null,allowCommentReactions:this.localSettings.allowCommentReactions?.value??null})}}};var R=a(5072),y=a.n(R),_=a(7825),O=a.n(_),L=a(7659),A=a.n(L),T=a(5056),V=a.n(T),D=a(540),X=a.n(D),E=a(1113),P=a.n(E),U=a(1991),W={};W.styleTagTransform=P(),W.setAttributes=V(),W.insert=A().bind(null,"head"),W.domAPI=O(),W.insertStyleElement=X(),y()(U.A,W),U.A&&U.A.locals&&U.A.locals;const z=(0,a(6262).A)(S,[["render",function(t,e,a,k,f,S){const R=(0,n.g2)("NcSelect"),y=(0,n.g2)("NcButton"),_=(0,n.g2)("NcDialog");return(0,n.uX)(),(0,n.Wv)(_,{open:!0,name:S.t("intravox","Page Settings"),size:"normal",onClose:e[7]||(e[7]=e=>t.$emit("close"))},{actions:(0,n.k6)(()=>[(0,n.bF)(y,{type:"tertiary",onClick:e[6]||(e[6]=e=>t.$emit("close"))},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(S.t("intravox","Cancel")),1)]),_:1}),(0,n.bF)(y,{type:"primary",onClick:S.save},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(S.t("intravox","Save")),1)]),_:1},8,["onClick"])]),default:(0,n.k6)(()=>[(0,n.Lk)("div",s,[(0,n.Lk)("div",o,[(0,n.Lk)("h3",i,[e[8]||(e[8]=(0,n.Lk)("span",{class:"settings-icon"},"ðŸ’¬",-1)),(0,n.eW)(" "+(0,l.v_)(S.t("intravox","Engagement")),1)]),(0,n.Lk)("p",c,(0,l.v_)(S.t("intravox","Override global engagement settings for this page.")),1),(0,n.Q3)(" Allow Reactions "),(0,n.Lk)("div",{class:(0,l.C4)(["setting-item",{"setting-item--disabled":!a.globalSettings.allowPageReactions}])},[(0,n.Lk)("div",g,[(0,n.Lk)("span",m,(0,l.v_)(S.t("intravox","Allow reactions on this page")),1),a.globalSettings.allowPageReactions?((0,n.uX)(),(0,n.Wv)(R,{key:0,modelValue:f.localSettings.allowReactions,"onUpdate:modelValue":e[0]||(e[0]=t=>f.localSettings.allowReactions=t),options:S.disableOnlyOptions,clearable:!0,searchable:!1,placeholder:S.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[1]||(e[1]=t=>f.localSettings.allowReactions=null)},null,8,["modelValue","options","placeholder"])):((0,n.uX)(),(0,n.CE)("span",r,(0,l.v_)(S.t("intravox","Disabled globally")),1))]),(0,n.Lk)("span",d,(0,l.v_)(S.getStatusText(f.localSettings.allowReactions,"reactions")),1)],2),(0,n.Q3)(" Allow Comments "),(0,n.Lk)("div",{class:(0,l.C4)(["setting-item",{"setting-item--disabled":!a.globalSettings.allowComments}])},[(0,n.Lk)("div",p,[(0,n.Lk)("span",v,(0,l.v_)(S.t("intravox","Allow comments on this page")),1),a.globalSettings.allowComments?((0,n.uX)(),(0,n.Wv)(R,{key:0,modelValue:f.localSettings.allowComments,"onUpdate:modelValue":e[2]||(e[2]=t=>f.localSettings.allowComments=t),options:S.disableOnlyOptions,clearable:!0,searchable:!1,placeholder:S.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[3]||(e[3]=t=>f.localSettings.allowComments=null)},null,8,["modelValue","options","placeholder"])):((0,n.uX)(),(0,n.CE)("span",u,(0,l.v_)(S.t("intravox","Disabled globally")),1))]),(0,n.Lk)("span",b,(0,l.v_)(S.getStatusText(f.localSettings.allowComments,"comments")),1)],2),(0,n.Q3)(" Allow Comment Reactions (only show if comments are enabled) "),S.showCommentReactionsOption?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,l.C4)(["setting-item",{"setting-item--disabled":!a.globalSettings.allowCommentReactions}])},[(0,n.Lk)("div",w,[(0,n.Lk)("span",h,(0,l.v_)(S.t("intravox","Allow reactions on comments")),1),a.globalSettings.allowCommentReactions?((0,n.uX)(),(0,n.Wv)(R,{key:0,modelValue:f.localSettings.allowCommentReactions,"onUpdate:modelValue":e[4]||(e[4]=t=>f.localSettings.allowCommentReactions=t),options:S.disableOnlyOptions,clearable:!0,searchable:!1,placeholder:S.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[5]||(e[5]=t=>f.localSettings.allowCommentReactions=null)},null,8,["modelValue","options","placeholder"])):((0,n.uX)(),(0,n.CE)("span",x,(0,l.v_)(S.t("intravox","Disabled globally")),1))]),(0,n.Lk)("span",C,(0,l.v_)(S.getStatusText(f.localSettings.allowCommentReactions,"commentReactions")),1)],2)):(0,n.Q3)("v-if",!0)])])]),_:1},8,["name"])}],["__scopeId","data-v-3fc8a2e8"]])}}]);