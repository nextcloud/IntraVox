"use strict";(self.webpackChunknextcloud_intravox=self.webpackChunknextcloud_intravox||[]).push([[591],{62598(t,e,n){n.d(e,{A:()=>i});var a=n(31601),l=n.n(a),s=n(76314),o=n.n(s)()(l());o.push([t.id,"\n.focus-trap[data-v-309cad96] {\n\tposition: absolute;\n\twidth: 0;\n\theight: 0;\n\toverflow: hidden;\n}\n.page-settings[data-v-309cad96] {\n\tpadding: 16px 0;\n}\n.settings-section[data-v-309cad96] {\n\tpadding: 0 16px;\n}\n.settings-section-header[data-v-309cad96] {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tmargin: 0 0 8px 0;\n\tfont-size: 16px;\n\tfont-weight: 600;\n}\n.settings-icon[data-v-309cad96] {\n\tfont-size: 20px;\n}\n.settings-section-desc[data-v-309cad96] {\n\tmargin: 0 0 16px 0;\n\tfont-size: 13px;\n\tcolor: var(--color-text-maxcontrast);\n}\n.setting-item[data-v-309cad96] {\n\tmargin-bottom: 16px;\n\tpadding: 12px;\n\tbackground: var(--color-background-hover);\n\tborder-radius: var(--border-radius-large);\n}\n.setting-header[data-v-309cad96] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 16px;\n\tmargin-bottom: 4px;\n}\n.setting-label[data-v-309cad96] {\n\tfont-weight: 500;\n\tcolor: var(--color-main-text);\n}\n.setting-status[data-v-309cad96] {\n\tfont-size: 12px;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-style: italic;\n}\n.tri-state-select[data-v-309cad96] {\n\tmin-width: 180px;\n}\n.setting-item--disabled[data-v-309cad96] {\n\topacity: 0.6;\n}\n.setting-locked[data-v-309cad96] {\n\tpadding: 6px 12px;\n\tfont-size: 13px;\n\tcolor: var(--color-text-maxcontrast);\n\tbackground: var(--color-background-dark);\n\tborder-radius: var(--border-radius);\n\tfont-style: italic;\n}\n",""]);const i=o},90591(t,e,n){n.r(e),n.d(e,{default:()=>N});var a=n(20641),l=n(90033);const s={ref:"focusTrap",tabindex:"-1",class:"focus-trap"},o={class:"page-settings"},i={class:"settings-section"},c={class:"settings-section-header"},d={class:"settings-section-desc"},m={class:"setting-header"},g={class:"setting-label"},r={key:1,class:"setting-locked"},u={class:"setting-status"},p={class:"setting-header"},v={class:"setting-label"},b={key:1,class:"setting-locked"},h={class:"setting-status"},w={class:"setting-header"},x={class:"setting-label"},C={key:1,class:"setting-locked"},k={class:"setting-status"};var S=n(76333),f=n(53334);const y={name:"PageSettingsModal",components:{NcDialog:S.i$,NcButton:S.x1,NcSelect:S.EQ},props:{pageUniqueId:{type:String,required:!0},settings:{type:Object,default:()=>({allowReactions:null,allowComments:null,allowCommentReactions:null})},globalSettings:{type:Object,default:()=>({allowPageReactions:!0,allowComments:!0,allowCommentReactions:!0})}},emits:["close","save"],data:()=>({localSettings:{allowReactions:null,allowComments:null,allowCommentReactions:null}}),computed:{disableOnlyOptions:()=>[{value:!1,label:(0,f.Tl)("intravox","Disabled")}],commentsEffectivelyEnabled(){return!!this.globalSettings.allowComments&&!1!==(this.localSettings.allowComments?.value??this.localSettings.allowComments)},showCommentReactionsOption(){return this.commentsEffectivelyEnabled}},created(){this.localSettings.allowReactions=this.mapToOption(this.settings?.allowReactions),this.localSettings.allowComments=this.mapToOption(this.settings?.allowComments),this.localSettings.allowCommentReactions=this.mapToOption(this.settings?.allowCommentReactions)},mounted(){this.$nextTick(()=>{document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur()})},methods:{t:(t,e,n={})=>(0,f.Tl)(t,e,n),mapToOption(t){return null==t?null:!1===t?this.disableOnlyOptions.find(t=>!1===t.value):null},getStatusText(t,e){let n;if("reactions"===e?n=this.globalSettings.allowPageReactions:"comments"===e?n=this.globalSettings.allowComments:"commentReactions"===e&&(n=this.globalSettings.allowCommentReactions),!n)return this.t("intravox","Disabled by administrator");const a=t?.value;return!1===a?this.t("intravox","Disabled for this page"):this.t("intravox","Using global setting (enabled)")},save(){this.$emit("save",{allowReactions:this.localSettings.allowReactions?.value??null,allowComments:this.localSettings.allowComments?.value??null,allowCommentReactions:this.localSettings.allowCommentReactions?.value??null})}}};var R=n(85072),_=n.n(R),O=n(97825),L=n.n(O),E=n(77659),A=n.n(E),T=n(55056),V=n.n(T),D=n(10540),U=n.n(D),X=n(41113),P=n.n(X),W=n(62598),z={};z.styleTagTransform=P(),z.setAttributes=V(),z.insert=A().bind(null,"head"),z.domAPI=L(),z.insertStyleElement=U(),_()(W.A,z),W.A&&W.A.locals&&W.A.locals;const N=(0,n(66262).A)(y,[["render",function(t,e,n,S,f,y){const R=(0,a.g2)("NcSelect"),_=(0,a.g2)("NcButton"),O=(0,a.g2)("NcDialog");return(0,a.uX)(),(0,a.Wv)(O,{open:!0,name:y.t("intravox","Page Settings"),size:"normal",onClose:e[7]||(e[7]=e=>t.$emit("close"))},{actions:(0,a.k6)(()=>[(0,a.bF)(_,{type:"tertiary",onClick:e[6]||(e[6]=e=>t.$emit("close"))},{default:(0,a.k6)(()=>[(0,a.eW)((0,l.v_)(y.t("intravox","Cancel")),1)]),_:1}),(0,a.bF)(_,{type:"primary",onClick:y.save},{default:(0,a.k6)(()=>[(0,a.eW)((0,l.v_)(y.t("intravox","Save")),1)]),_:1},8,["onClick"])]),default:(0,a.k6)(()=>[(0,a.Lk)("div",s,null,512),(0,a.Lk)("div",o,[(0,a.Q3)(" Engagement Section "),(0,a.Lk)("div",i,[(0,a.Lk)("h3",c,[e[8]||(e[8]=(0,a.Lk)("span",{class:"settings-icon"},"ðŸ’¬",-1)),(0,a.eW)(" "+(0,l.v_)(y.t("intravox","Engagement")),1)]),(0,a.Lk)("p",d,(0,l.v_)(y.t("intravox","Override global engagement settings for this page.")),1),(0,a.Q3)(" Allow Reactions "),(0,a.Lk)("div",{class:(0,l.C4)(["setting-item",{"setting-item--disabled":!n.globalSettings.allowPageReactions}])},[(0,a.Lk)("div",m,[(0,a.Lk)("span",g,(0,l.v_)(y.t("intravox","Allow reactions on this page")),1),n.globalSettings.allowPageReactions?((0,a.uX)(),(0,a.Wv)(R,{key:0,modelValue:f.localSettings.allowReactions,"onUpdate:modelValue":e[0]||(e[0]=t=>f.localSettings.allowReactions=t),options:y.disableOnlyOptions,clearable:!0,searchable:!1,autofocus:!1,placeholder:y.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[1]||(e[1]=t=>f.localSettings.allowReactions=null)},null,8,["modelValue","options","placeholder"])):((0,a.uX)(),(0,a.CE)("span",r,(0,l.v_)(y.t("intravox","Disabled globally")),1))]),(0,a.Lk)("span",u,(0,l.v_)(y.getStatusText(f.localSettings.allowReactions,"reactions")),1)],2),(0,a.Q3)(" Allow Comments "),(0,a.Lk)("div",{class:(0,l.C4)(["setting-item",{"setting-item--disabled":!n.globalSettings.allowComments}])},[(0,a.Lk)("div",p,[(0,a.Lk)("span",v,(0,l.v_)(y.t("intravox","Allow comments on this page")),1),n.globalSettings.allowComments?((0,a.uX)(),(0,a.Wv)(R,{key:0,modelValue:f.localSettings.allowComments,"onUpdate:modelValue":e[2]||(e[2]=t=>f.localSettings.allowComments=t),options:y.disableOnlyOptions,clearable:!0,searchable:!1,autofocus:!1,placeholder:y.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[3]||(e[3]=t=>f.localSettings.allowComments=null)},null,8,["modelValue","options","placeholder"])):((0,a.uX)(),(0,a.CE)("span",b,(0,l.v_)(y.t("intravox","Disabled globally")),1))]),(0,a.Lk)("span",h,(0,l.v_)(y.getStatusText(f.localSettings.allowComments,"comments")),1)],2),(0,a.Q3)(" Allow Comment Reactions (only show if comments are enabled) "),y.showCommentReactionsOption?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,l.C4)(["setting-item",{"setting-item--disabled":!n.globalSettings.allowCommentReactions}])},[(0,a.Lk)("div",w,[(0,a.Lk)("span",x,(0,l.v_)(y.t("intravox","Allow reactions on comments")),1),n.globalSettings.allowCommentReactions?((0,a.uX)(),(0,a.Wv)(R,{key:0,modelValue:f.localSettings.allowCommentReactions,"onUpdate:modelValue":e[4]||(e[4]=t=>f.localSettings.allowCommentReactions=t),options:y.disableOnlyOptions,clearable:!0,searchable:!1,autofocus:!1,placeholder:y.t("intravox","Use global setting"),class:"tri-state-select",onClear:e[5]||(e[5]=t=>f.localSettings.allowCommentReactions=null)},null,8,["modelValue","options","placeholder"])):((0,a.uX)(),(0,a.CE)("span",C,(0,l.v_)(y.t("intravox","Disabled globally")),1))]),(0,a.Lk)("span",k,(0,l.v_)(y.getStatusText(f.localSettings.allowCommentReactions,"commentReactions")),1)],2)):(0,a.Q3)("v-if",!0)])])]),_:1},8,["name"])}],["__scopeId","data-v-309cad96"]])}}]);