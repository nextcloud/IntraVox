"use strict";(self.webpackChunknextcloud_intravox=self.webpackChunknextcloud_intravox||[]).push([[910],{2717:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(1601),l=a.n(n),o=a(6314),i=a.n(o)()(l());i.push([e.id,"\n.save-template-modal-content[data-v-a761f58e] {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.modal-description[data-v-a761f58e] {\n  margin: 0;\n  color: var(--color-text-maxcontrast);\n  font-size: 14px;\n}\n.form-group[data-v-a761f58e] {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n.form-group label[data-v-a761f58e] {\n  font-weight: 500;\n  font-size: 14px;\n  color: var(--color-main-text);\n}\n.form-group .optional[data-v-a761f58e] {\n  font-weight: normal;\n  color: var(--color-text-maxcontrast);\n}\n.template-input[data-v-a761f58e] {\n  width: 100%;\n  padding: 10px;\n  font-size: 14px;\n  color: var(--color-main-text);\n  background: var(--color-main-background);\n  border: 2px solid var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  box-sizing: border-box;\n}\n.template-input[data-v-a761f58e]:focus {\n  outline: none;\n  border-color: var(--color-primary);\n}\n.template-textarea[data-v-a761f58e] {\n  resize: vertical;\n  min-height: 60px;\n  font-family: inherit;\n}\n.error-message[data-v-a761f58e] {\n  padding: 10px;\n  background: var(--color-error);\n  color: white;\n  border-radius: var(--border-radius);\n  font-size: 14px;\n}\n.modal-buttons[data-v-a761f58e] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 8px;\n}\n",""]);const r=i},6910:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var n=a(641),l=a(33),o=a(3751);const i={class:"save-template-modal-content"},r={class:"modal-description"},s={class:"form-group"},p={for:"template-title"},d=["placeholder"],c={class:"form-group"},m={for:"template-description"},v={class:"optional"},u=["placeholder"],f={key:0,class:"error-message"},g={class:"modal-buttons"};var h=a(3334),x=a(3814),b=a(6802),k=a(5873);const T={name:"SaveAsTemplateModal",components:{NcModal:k.FH,NcButton:k.x1,NcLoadingIcon:k.ne},props:{pageUniqueId:{type:String,required:!0},pageTitle:{type:String,default:""}},emits:["close","saved"],data:()=>({templateTitle:"",templateDescription:"",saving:!1,error:null}),computed:{canSave(){return this.templateTitle.trim().length>0}},mounted(){this.templateTitle=this.pageTitle?`${this.pageTitle} Template`:"",this.$nextTick(()=>{this.$refs.titleInput?.focus(),this.$refs.titleInput?.select()})},methods:{t:(e,t={})=>(0,h.Tl)("intravox",e,t),async saveTemplate(){if(this.canSave&&!this.saving){this.saving=!0,this.error=null;try{const e=(0,x.Jv)("/apps/intravox/api/templates"),t=await b.Ay.post(e,{pageUniqueId:this.pageUniqueId,templateTitle:this.templateTitle.trim(),templateDescription:this.templateDescription.trim()||null});t.data.success?(this.$emit("saved",t.data.template),this.$emit("close")):this.error=t.data.error||this.t("Failed to save template")}catch(e){console.error("Failed to save template:",e),this.error=e.response?.data?.error||this.t("Failed to save template")}finally{this.saving=!1}}}}};var y=a(5072),_=a.n(y),L=a(7825),A=a.n(L),I=a(7659),S=a.n(I),w=a(5056),C=a.n(w),z=a(540),$=a.n(z),D=a(1113),F=a.n(D),N=a(2717),U={};U.styleTagTransform=F(),U.setAttributes=C(),U.insert=S().bind(null,"head"),U.domAPI=A(),U.insertStyleElement=$(),_()(N.A,U),N.A&&N.A.locals&&N.A.locals;const W=(0,a(6262).A)(T,[["render",function(e,t,a,h,x,b){const k=(0,n.g2)("NcButton"),T=(0,n.g2)("NcLoadingIcon"),y=(0,n.g2)("NcModal");return(0,n.uX)(),(0,n.Wv)(y,{onClose:t[4]||(t[4]=t=>e.$emit("close")),name:b.t("Save as Template"),size:"small"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",i,[(0,n.Lk)("p",r,(0,l.v_)(b.t("Create a reusable template from this page")),1),(0,n.Lk)("div",s,[(0,n.Lk)("label",p,(0,l.v_)(b.t("Template name")),1),(0,n.bo)((0,n.Lk)("input",{id:"template-title",ref:"titleInput","onUpdate:modelValue":t[0]||(t[0]=e=>x.templateTitle=e),type:"text",class:"template-input",placeholder:b.t("Enter template name"),onKeyup:t[1]||(t[1]=(0,o.jR)((...e)=>b.saveTemplate&&b.saveTemplate(...e),["enter"]))},null,40,d),[[o.Jo,x.templateTitle]])]),(0,n.Lk)("div",c,[(0,n.Lk)("label",m,[(0,n.eW)((0,l.v_)(b.t("Description"))+" ",1),(0,n.Lk)("span",v,(0,l.v_)(b.t("(optional)")),1)]),(0,n.bo)((0,n.Lk)("textarea",{id:"template-description","onUpdate:modelValue":t[2]||(t[2]=e=>x.templateDescription=e),class:"template-input template-textarea",placeholder:b.t("Describe what this template is for"),rows:"3"},null,8,u),[[o.Jo,x.templateDescription]])]),x.error?((0,n.uX)(),(0,n.CE)("div",f,(0,l.v_)(x.error),1)):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",g,[(0,n.bF)(k,{onClick:t[3]||(t[3]=t=>e.$emit("close")),type:"secondary",disabled:x.saving},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(b.t("Cancel")),1)]),_:1},8,["disabled"]),(0,n.bF)(k,{onClick:b.saveTemplate,type:"primary",disabled:!b.canSave||x.saving},{icon:(0,n.k6)(()=>[x.saving?((0,n.uX)(),(0,n.Wv)(T,{key:0,size:20})):(0,n.Q3)("v-if",!0)]),default:(0,n.k6)(()=>[(0,n.eW)(" "+(0,l.v_)(x.saving?b.t("Saving..."):b.t("Save Template")),1)]),_:1},8,["onClick","disabled"])])])]),_:1},8,["name"])}],["__scopeId","data-v-a761f58e"]])}}]);