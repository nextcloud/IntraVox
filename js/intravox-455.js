"use strict";(self.webpackChunknextcloud_intravox=self.webpackChunknextcloud_intravox||[]).push([[455],{6455:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Wi});var o=i(20641),a=i(90033);const n={class:"page-editor-wrapper"},l={class:"header-row-header"},r={class:"header-row-title"},d={class:"header-row-actions"},s={class:"header-row-widgets"},c={class:"widget-wrapper"},g={class:"floating-toolbar"},u=["aria-label"],p={key:1,class:"add-header-row-container"},h={class:"page-editor-container"},m={class:"side-column-header"},v={class:"side-column-title"},b={class:"side-column-actions"},k={class:"side-column-widgets"},w={class:"widget-wrapper"},x={class:"floating-toolbar"},y=["aria-label"],f={class:"page-editor"},C={class:"side-column-buttons"},W={class:"row-controls"},L={style:{"margin-right":"8px"}},P=["onClick"],A={class:"column-label"},S={class:"floating-toolbar"},_=["aria-label"],R={class:"column-add-widget"},z={class:"insert-row-container"},F={class:"side-column-header"},E={class:"side-column-title"},I={class:"side-column-actions"},D={class:"side-column-widgets"},H={class:"widget-wrapper"},T={class:"floating-toolbar"},N=["aria-label"];var O=i(432),B=i.n(O),$=i(53334),X=i(76333),M=i(32490),Q=i(5748),J=i(92955),j=i(54911),V=i(68464),U=i(67444),K=i(80863),G=i(34086),q=i(21243),Z=i(19445),Y=i(13339);const ee={class:"widget-picker-content"},te={class:"widget-types"},ie=["onClick"],oe={class:"widget-info"};var ae=i(37266),ne=i(8613),le=i(69158),re=i(44504),de=i(98429);const se={name:"WidgetPicker",components:{NcModal:X.FH,Text:ae.A,FormatTitle:ne.A,Image:le.A,Minus:re.A,ViewGrid:de.A},emits:["close","select"],computed:{modalTitle(){return this.$t("Add widget")},widgetTypes(){return[{type:"text",name:this.$t("Text"),icon:"text",description:this.$t("Add text to your page")},{type:"heading",name:this.$t("Heading"),icon:"format-title",description:this.$t("Add a heading")},{type:"image",name:this.$t("Image"),icon:"image",description:this.$t("Add an image")},{type:"divider",name:this.$t("Divider"),icon:"minus",description:this.$t("Add a horizontal line")},{type:"links",name:this.$t("Links"),icon:"view-grid",description:this.$t("Add a grid of links with icons")}]}},methods:{getIconComponent:e=>({text:"Text","format-title":"FormatTitle",image:"Image",minus:"Minus","view-grid":"ViewGrid"}[e]||"Text")}};var ce=i(85072),ge=i.n(ce),ue=i(97825),pe=i.n(ue),he=i(77659),me=i.n(he),ve=i(55056),be=i.n(ve),ke=i(10540),we=i.n(ke),xe=i(41113),ye=i.n(xe),fe=i(89712),Ce={};Ce.styleTagTransform=ye(),Ce.setAttributes=be(),Ce.insert=me().bind(null,"head"),Ce.domAPI=pe(),Ce.insertStyleElement=we(),ge()(fe.A,Ce),fe.A&&fe.A.locals&&fe.A.locals;var We=i(66262);const Le=(0,We.A)(se,[["render",function(e,t,i,n,l,r){const d=(0,o.g2)("NcModal");return(0,o.uX)(),(0,o.Wv)(d,{onClose:t[0]||(t[0]=t=>e.$emit("close")),name:r.modalTitle,size:"small"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ee,[(0,o.Lk)("div",te,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.widgetTypes,t=>((0,o.uX)(),(0,o.CE)("div",{key:t.type,class:"widget-type-card",onClick:i=>e.$emit("select",t.type)},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(r.getIconComponent(t.icon)),{size:32,class:"widget-icon"})),(0,o.Lk)("div",oe,[(0,o.Lk)("h3",null,(0,a.v_)(t.name),1)])],8,ie))),128))])])]),_:1},8,["name"])}],["__scopeId","data-v-0469ca96"]]);var Pe=i(53751);const Ae={class:"widget-editor-content"},Se={key:0,class:"form-group full-width-editor"},_e={key:0,class:"rich-text-toolbar"},Re=["title"],ze=["title"],Fe=["title"],Ee=["title"],Ie=["title"],De=["title"],He={class:"form-group"},Te=["placeholder"],Ne={class:"form-group"},Oe={value:1},Be={value:2},$e={value:3},Xe={value:4},Me={value:5},Qe={value:6},Je={class:"form-group"},je={class:"hint"},Ve={key:0,class:"image-preview"},Ue=["src","alt"],Ke={class:"form-group"},Ge=["placeholder"],qe={class:"form-group"},Ze={class:"size-presets"},Ye={key:1,class:"form-group"},et=["placeholder"],tt={class:"size-hint"},it={key:2,class:"form-group"},ot={class:"position-presets"},at={class:"size-hint"},nt={class:"form-group"},lt={class:"form-group"},rt={class:"form-group"},dt={class:"modal-footer"};var st=i(66802),ct=i(63814),gt=i(85168),ut=i(45442),pt=i(81200),ht=i(37594),mt=i(98005);const vt={name:"WidgetEditor",components:{NcButton:X.x1,NcModal:X.FH,EditorContent:ut.$Z},props:{widget:{type:Object,required:!0},pageId:{type:String,required:!0}},emits:["close","save"],data(){return{localWidget:JSON.parse(JSON.stringify(this.widget)),editor:null}},mounted(){if("text"===this.localWidget.type){let e=this.localWidget.content||"";(e.includes("&lt;")||e.includes("&gt;"))&&(e=this.decodeHtml(e)),this.editor=new ut.KE({extensions:[pt.A.configure({paragraph:{HTMLAttributes:{class:"tight-paragraph"}}}),ht.A,mt.A.configure({placeholder:"Typ hier je tekst..."})],editorProps:{attributes:{class:"intravox-editor-full-width"}},content:e,onUpdate:({editor:e})=>{this.localWidget.content=e.getHTML()}})}},beforeUnmount(){this.editor&&this.editor.destroy()},methods:{t(e,t={}){return this.$t(e,t)},decodeHtml(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value},save(){this.$emit("save",this.localWidget),this.$emit("close")},async handleImageUpload(e){const t=e.target.files[0];if(!t)return;if(t.size>2097152)return void(0,gt.Qg)((0,$.Tl)("intravox","Image too large. Maximum size is 2MB."));const i=new FormData;i.append("image",t);try{const e=await st.Ay.post((0,ct.Jv)(`/apps/intravox/api/pages/${this.pageId}/images`),i);this.localWidget.src=e.data.filename,void 0===this.localWidget.width&&(this.localWidget.width=null)}catch(e){const t=e.response?.data?.error||e.message;(0,gt.Qg)((0,$.Tl)("intravox","Could not upload image")+": "+t)}},getImageUrl(e){if(!e)return"";const t=e.replace(/^(ðŸ“· images\/|images\/)/,"");return(0,ct.Jv)(`/apps/intravox/api/pages/${this.pageId}/images/${t}`)},setImageSize(e){this.localWidget.width=e,void 0!==this.localWidget.height&&delete this.localWidget.height},setObjectPosition(e){this.localWidget.objectPosition=e}}};var bt=i(55933),kt={};kt.styleTagTransform=ye(),kt.setAttributes=be(),kt.insert=me().bind(null,"head"),kt.domAPI=pe(),kt.insertStyleElement=we(),ge()(bt.A,kt),bt.A&&bt.A.locals&&bt.A.locals;const wt=(0,We.A)(vt,[["render",function(e,t,i,n,l,r){const d=(0,o.g2)("editor-content"),s=(0,o.g2)("NcButton"),c=(0,o.g2)("NcModal");return(0,o.uX)(),(0,o.Wv)(c,{onClose:t[22]||(t[22]=t=>e.$emit("close")),name:r.t("Edit widget"),size:"large",class:"widget-editor-modal"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ae,[(0,o.Q3)(" Text Widget "),"text"===l.localWidget.type?((0,o.uX)(),(0,o.CE)("div",Se,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Text:")),1),(0,o.Q3)(" Tiptap Rich Text Editor "),l.editor?((0,o.uX)(),(0,o.CE)("div",_e,[(0,o.Lk)("button",{type:"button",onClick:t[0]||(t[0]=e=>l.editor.chain().focus().toggleBold().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("bold")},"toolbar-btn"]),title:r.t("Bold")},[...t[23]||(t[23]=[(0,o.Lk)("strong",null,"B",-1)])],10,Re),(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=e=>l.editor.chain().focus().toggleItalic().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("italic")},"toolbar-btn"]),title:r.t("Italic")},[...t[24]||(t[24]=[(0,o.Lk)("em",null,"I",-1)])],10,ze),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=e=>l.editor.chain().focus().toggleUnderline().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("underline")},"toolbar-btn"]),title:r.t("Underline")},[...t[25]||(t[25]=[(0,o.Lk)("u",null,"U",-1)])],10,Fe),(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>l.editor.chain().focus().toggleStrike().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("strike")},"toolbar-btn"]),title:r.t("Strikethrough")},[...t[26]||(t[26]=[(0,o.Lk)("s",null,"S",-1)])],10,Ee),t[27]||(t[27]=(0,o.Lk)("span",{class:"toolbar-divider"},null,-1)),(0,o.Lk)("button",{type:"button",onClick:t[4]||(t[4]=e=>l.editor.chain().focus().toggleBulletList().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("bulletList")},"toolbar-btn"]),title:r.t("Bullet list")}," â€¢ List ",10,Ie),(0,o.Lk)("button",{type:"button",onClick:t[5]||(t[5]=e=>l.editor.chain().focus().toggleOrderedList().run()),class:(0,a.C4)([{"is-active":l.editor.isActive("orderedList")},"toolbar-btn"]),title:r.t("Numbered list")}," 1. List ",10,De)])):(0,o.Q3)("v-if",!0),(0,o.bF)(d,{editor:l.editor,class:"rich-text-editor"},null,8,["editor"])])):"heading"===l.localWidget.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Q3)(" Heading Widget "),(0,o.Lk)("div",null,[(0,o.Lk)("div",He,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Heading:")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.localWidget.content=e),type:"text",placeholder:r.t("Enter your heading..."),class:"heading-text-input"},null,8,Te),[[Pe.Jo,l.localWidget.content]])]),(0,o.Lk)("div",Ne,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Level:")),1),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.localWidget.level=e),class:"heading-level-select"},[(0,o.Lk)("option",Oe,(0,a.v_)(r.t("H1 - Largest")),1),(0,o.Lk)("option",Be,(0,a.v_)(r.t("H2")),1),(0,o.Lk)("option",$e,(0,a.v_)(r.t("H3")),1),(0,o.Lk)("option",Xe,(0,a.v_)(r.t("H4")),1),(0,o.Lk)("option",Me,(0,a.v_)(r.t("H5")),1),(0,o.Lk)("option",Qe,(0,a.v_)(r.t("H6 - Smallest")),1)],512),[[Pe.u1,l.localWidget.level,void 0,{number:!0}]])])])],2112)):"image"===l.localWidget.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.Q3)(" Image Widget "),(0,o.Lk)("div",null,[(0,o.Lk)("div",Je,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Upload image:")),1),(0,o.Lk)("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:t[8]||(t[8]=(...e)=>r.handleImageUpload&&r.handleImageUpload(...e))},null,32),(0,o.Lk)("p",je,(0,a.v_)(r.t("Supported formats: JPEG, PNG, GIF, WebP. Maximum size: 2MB.")),1)]),l.localWidget.src?((0,o.uX)(),(0,o.CE)("div",Ve,[(0,o.Lk)("img",{src:r.getImageUrl(l.localWidget.src),alt:l.localWidget.alt},null,8,Ue)])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",Ke,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Alt text:")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.localWidget.alt=e),type:"text",placeholder:r.t("Description of the image..."),class:"widget-input"},null,8,Ge),[[Pe.Jo,l.localWidget.alt]])]),(0,o.Lk)("div",qe,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Size:")),1),(0,o.Lk)("div",Ze,[(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:300===l.localWidget.width},"size-preset-btn"]),onClick:t[10]||(t[10]=e=>r.setImageSize(300))},(0,a.v_)(r.t("Small"))+" (300px) ",3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:500===l.localWidget.width},"size-preset-btn"]),onClick:t[11]||(t[11]=e=>r.setImageSize(500))},(0,a.v_)(r.t("Medium"))+" (500px) ",3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:800===l.localWidget.width},"size-preset-btn"]),onClick:t[12]||(t[12]=e=>r.setImageSize(800))},(0,a.v_)(r.t("Large"))+" (800px) ",3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:!l.localWidget.width||null===l.localWidget.width},"size-preset-btn"]),onClick:t[13]||(t[13]=e=>r.setImageSize(null))},(0,a.v_)(r.t("Full width")),3)])]),l.localWidget.width?((0,o.uX)(),(0,o.CE)("div",Ye,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Custom width (pixels):")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.localWidget.width=e),type:"number",min:"50",max:"2000",class:"widget-input",placeholder:r.t("Width in pixels")},null,8,et),[[Pe.Jo,l.localWidget.width,void 0,{number:!0}]]),(0,o.Lk)("p",tt,(0,a.v_)(r.t("Height will automatically adjust to maintain aspect ratio")),1)])):(0,o.Q3)("v-if",!0),l.localWidget.width&&null!==l.localWidget.width?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",it,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Vertical position:")),1),(0,o.Lk)("div",ot,[(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:!l.localWidget.objectPosition||"center"===l.localWidget.objectPosition},"size-preset-btn"]),onClick:t[15]||(t[15]=e=>r.setObjectPosition("center"))},(0,a.v_)(r.t("Center")),3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:"top"===l.localWidget.objectPosition},"size-preset-btn"]),onClick:t[16]||(t[16]=e=>r.setObjectPosition("top"))},(0,a.v_)(r.t("Top")),3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:"bottom"===l.localWidget.objectPosition},"size-preset-btn"]),onClick:t[17]||(t[17]=e=>r.setObjectPosition("bottom"))},(0,a.v_)(r.t("Bottom")),3)]),(0,o.Lk)("p",at,(0,a.v_)(r.t("Choose which part of the image is visible when cropped")),1)]))])],2112)):"file"===l.localWidget.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.Q3)(" File Widget "),(0,o.Lk)("div",null,[(0,o.Lk)("div",nt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("File name:")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>l.localWidget.name=e),type:"text",placeholder:"Document.pdf",class:"widget-input"},null,512),[[Pe.Jo,l.localWidget.name]])]),(0,o.Lk)("div",lt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("File path (in IntraVox folder):")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>l.localWidget.path=e),type:"text",placeholder:"documents/file.pdf",class:"widget-input"},null,512),[[Pe.Jo,l.localWidget.path]])])])],2112)):"spacer"===l.localWidget.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.Q3)(" Spacer Widget "),(0,o.Lk)("div",null,[(0,o.Lk)("div",rt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Height (pixels):")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.localWidget.height=e),type:"number",min:"10",max:"200",placeholder:"20",class:"widget-input"},null,512),[[Pe.Jo,l.localWidget.height,void 0,{number:!0}]])])])],2112)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",dt,[(0,o.bF)(s,{onClick:t[21]||(t[21]=t=>e.$emit("close")),type:"secondary"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)(r.t("Cancel")),1)]),_:1}),(0,o.bF)(s,{onClick:r.save,type:"primary"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)(r.t("Save")),1)]),_:1},8,["onClick"])])])]),_:1},8,["name"])}],["__scopeId","data-v-d30aaa3c"]]),xt={class:"links-editor-content"},yt={class:"form-section"},ft={class:"form-group"},Ct={value:1},Wt={value:2},Lt={value:3},Pt={value:4},At={class:"form-group"},St={class:"color-presets"},_t={class:"form-section"},Rt={class:"section-header"},zt={key:0,class:"links-list"},Ft={class:"link-number"},Et={class:"link-fields"},It={class:"form-row"},Dt={class:"form-group flex-1"},Ht=["onUpdate:modelValue","placeholder"],Tt={class:"form-group flex-1"},Nt=["onUpdate:modelValue"],Ot={class:"form-row"},Bt={class:"form-group flex-1"},$t={class:"icon-option"},Xt={class:"icon-option"},Mt={class:"form-group flex-1"},Qt={class:"color-presets"},Jt=["onClick"],jt=["onClick"],Vt=["onClick","title"],Ut={key:1,class:"empty-state"},Kt={class:"modal-footer"};var Gt=i(68990),qt=i(57021),Zt=i(88932),Yt=i(90085),ei=i(33046),ti=i(14333),ii=i(18071),oi=i(22607),ai=i(65204),ni=i(42212),li=i(41290),ri=i(94081),di=i(84049),si=i(71358),ci=i(40689),gi=i(90790),ui=i(2565),pi=i(6441),hi=i(40211),mi=i(12192),vi=i(41757);const bi={name:"LinksEditor",components:{NcButton:X.x1,NcModal:X.FH,NcSelect:X.EQ,Plus:M.A,Delete:K.A,ViewGrid:de.A,Home:Gt.A,Information:qt.A,Email:Zt.A,Phone:Yt.A,Web:ei.A,FileDocument:ti.A,Download:ii.A,Help:oi.A,Cog:ai.A,Account:ni.A,AccountGroup:li.A,Calendar:ri.A,ChartLine:di.A,Briefcase:si.A,School:ci.A,Star:gi.A,Heart:ui.A,LightbulbOn:pi.A,Rocket:hi.A,Archive:mi.A,OpenInNew:vi.A},props:{widget:{type:Object,required:!0}},emits:["close","save"],data(){return{localWidget:JSON.parse(JSON.stringify(this.widget))}},computed:{iconOptions(){return[{value:"home",label:this.t("Home")},{value:"information",label:this.t("Information")},{value:"email",label:this.t("Email")},{value:"phone",label:this.t("Phone")},{value:"web",label:this.t("Website")},{value:"file-document",label:this.t("Document")},{value:"download",label:this.t("Download")},{value:"help",label:this.t("Help")},{value:"cog",label:this.t("Settings")},{value:"account",label:this.t("Account")},{value:"account-group",label:this.t("Team")},{value:"calendar",label:this.t("Calendar")},{value:"chart-line",label:this.t("Analytics")},{value:"briefcase",label:this.t("Business")},{value:"school",label:this.t("Education")},{value:"star",label:this.t("Favorite")},{value:"heart",label:this.t("Like")},{value:"lightbulb-on",label:this.t("Idea")},{value:"rocket",label:this.t("Launch")},{value:"archive",label:this.t("Archive")},{value:"open-in-new",label:this.t("External link")}]}},mounted(){this.localWidget.items||(this.localWidget.items=[]),this.localWidget.columns||(this.localWidget.columns=2),this.localWidget.items&&this.localWidget.items.forEach(e=>{e.icon&&!e.iconObject&&(e.iconObject=this.iconOptions.find(t=>t.value===e.icon)),!e.text&&e.title&&(e.text=e.title)})},methods:{t:(e,t={})=>(0,$.Tl)("intravox",e,t),getIconComponent:e=>({home:"Home",information:"Information",email:"Email",phone:"Phone",web:"Web","file-document":"FileDocument",download:"Download",help:"Help",cog:"Cog",account:"Account","account-group":"AccountGroup",calendar:"Calendar","chart-line":"ChartLine",briefcase:"Briefcase",school:"School",star:"Star",heart:"Heart","lightbulb-on":"LightbulbOn",rocket:"Rocket",archive:"Archive","open-in-new":"OpenInNew"}[e]||"OpenInNew"),addLink(){this.localWidget.items||(this.localWidget.items=[]),this.localWidget.items.push({text:"",url:"",icon:"open-in-new",iconObject:this.iconOptions.find(e=>"open-in-new"===e.value),backgroundColor:null})},updateLinkIcon(e,t){this.localWidget.items[e].icon=t?t.value:null,this.localWidget.items[e].iconObject=t},removeLink(e){this.localWidget.items.splice(e,1)},setBackgroundColor(e){this.localWidget.backgroundColor=e},setLinkBackground(e,t){this.localWidget.items[e].backgroundColor=t},save(){const e=JSON.parse(JSON.stringify(this.localWidget));e.items&&e.items.forEach(e=>{delete e.iconObject}),this.$emit("save",e),this.$emit("close")}}};var ki=i(47245),wi={};wi.styleTagTransform=ye(),wi.setAttributes=be(),wi.insert=me().bind(null,"head"),wi.domAPI=pe(),wi.insertStyleElement=we(),ge()(ki.A,wi),ki.A&&ki.A.locals&&ki.A.locals;const xi=(0,We.A)(bi,[["render",function(e,t,i,n,l,r){const d=(0,o.g2)("Plus"),s=(0,o.g2)("NcButton"),c=(0,o.g2)("NcSelect"),g=(0,o.g2)("Delete"),u=(0,o.g2)("ViewGrid"),p=(0,o.g2)("NcModal");return(0,o.uX)(),(0,o.Wv)(p,{onClose:t[5]||(t[5]=t=>e.$emit("close")),name:r.t("Edit links"),size:"large",class:"links-editor-modal"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",xt,[(0,o.Q3)(" Container Settings "),(0,o.Lk)("div",yt,[(0,o.Lk)("h3",null,(0,a.v_)(r.t("Container settings")),1),(0,o.Lk)("div",ft,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Grid columns:")),1),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.localWidget.columns=e),class:"widget-input"},[(0,o.Lk)("option",Ct,"1 "+(0,a.v_)(r.t("column")),1),(0,o.Lk)("option",Wt,"2 "+(0,a.v_)(r.t("columns")),1),(0,o.Lk)("option",Lt,"3 "+(0,a.v_)(r.t("columns")),1),(0,o.Lk)("option",Pt,"4 "+(0,a.v_)(r.t("columns")),1)],512),[[Pe.u1,l.localWidget.columns,void 0,{number:!0}]])]),(0,o.Lk)("div",At,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Background color:")),1),(0,o.Lk)("div",St,[(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:!l.localWidget.backgroundColor},"color-preset-btn"]),onClick:t[1]||(t[1]=e=>r.setBackgroundColor(null))},(0,a.v_)(r.t("None")),3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:"var(--color-background-hover)"===l.localWidget.backgroundColor},"color-preset-btn"]),onClick:t[2]||(t[2]=e=>r.setBackgroundColor("var(--color-background-hover)"))},(0,a.v_)(r.t("Light")),3),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:"var(--color-primary-element)"===l.localWidget.backgroundColor},"color-preset-btn"]),onClick:t[3]||(t[3]=e=>r.setBackgroundColor("var(--color-primary-element)"))},(0,a.v_)(r.t("Primary")),3)])])]),(0,o.Q3)(" Links List "),(0,o.Lk)("div",_t,[(0,o.Lk)("div",Rt,[(0,o.Lk)("h3",null,(0,a.v_)(r.t("Links")),1),(0,o.bF)(s,{onClick:r.addLink,type:"primary"},{icon:(0,o.k6)(()=>[(0,o.bF)(d,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)(r.t("Add link")),1)]),_:1},8,["onClick"])]),l.localWidget.items&&l.localWidget.items.length>0?((0,o.uX)(),(0,o.CE)("div",zt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.localWidget.items,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"link-editor-item"},[(0,o.Lk)("div",Ft,(0,a.v_)(t+1),1),(0,o.Lk)("div",Et,[(0,o.Lk)("div",It,[(0,o.Lk)("div",Dt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Link text:")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t=>e.text=t,type:"text",placeholder:r.t("Click here"),class:"widget-input"},null,8,Ht),[[Pe.Jo,e.text]])]),(0,o.Lk)("div",Tt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("URL:")),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t=>e.url=t,type:"url",placeholder:"https://example.com",class:"widget-input"},null,8,Nt),[[Pe.Jo,e.url]])])]),(0,o.Lk)("div",Ot,[(0,o.Lk)("div",Bt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Icon:")),1),(0,o.bF)(c,{modelValue:e.iconObject,"onUpdate:modelValue":[t=>e.iconObject=t,e=>r.updateLinkIcon(t,e)],options:r.iconOptions,placeholder:r.t("Select an icon"),clearable:!0},{"selected-option":(0,o.k6)(e=>[(0,o.Lk)("div",$t,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(r.getIconComponent(e.value)),{size:20})),(0,o.Lk)("span",null,(0,a.v_)(e.label),1)])]),option:(0,o.k6)(e=>[(0,o.Lk)("div",Xt,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(r.getIconComponent(e.value)),{size:20})),(0,o.Lk)("span",null,(0,a.v_)(e.label),1)])]),_:1},8,["modelValue","onUpdate:modelValue","options","placeholder"])]),(0,o.Lk)("div",Mt,[(0,o.Lk)("label",null,(0,a.v_)(r.t("Link background:")),1),(0,o.Lk)("div",Qt,[(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:!e.backgroundColor},"color-preset-btn small"]),onClick:e=>r.setLinkBackground(t,null)},(0,a.v_)(r.t("Default")),11,Jt),(0,o.Lk)("button",{type:"button",class:(0,a.C4)([{active:"var(--color-primary-element-light)"===e.backgroundColor},"color-preset-btn small"]),onClick:e=>r.setLinkBackground(t,"var(--color-primary-element-light)")},(0,a.v_)(r.t("Primary")),11,jt)])])])]),(0,o.Lk)("button",{type:"button",onClick:e=>r.removeLink(t),class:"remove-link-btn",title:r.t("Remove link")},[(0,o.bF)(g,{size:20})],8,Vt)]))),128))])):((0,o.uX)(),(0,o.CE)("div",Ut,[(0,o.bF)(u,{size:48}),(0,o.Lk)("p",null,(0,a.v_)(r.t('No links yet. Click "Add link" to get started.')),1)]))]),(0,o.Lk)("div",Kt,[(0,o.bF)(s,{onClick:t[4]||(t[4]=t=>e.$emit("close")),type:"secondary"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)(r.t("Cancel")),1)]),_:1}),(0,o.bF)(s,{onClick:r.save,type:"primary"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)(r.t("Save")),1)]),_:1},8,["onClick"])])])]),_:1},8,["name"])}],["__scopeId","data-v-59890675"]]),yi={name:"PageEditor",components:{draggable:B(),NcButton:X.x1,NcDialog:X.i$,NcActions:X.B6,NcActionButton:X.Ko,Plus:M.A,TableRowPlusAfter:Q.A,TableRowPlusBefore:J.A,TableColumnPlusBefore:j.A,TableColumnPlusAfter:V.A,Pencil:U.A,Delete:K.A,ContentDuplicate:G.A,Palette:q.A,DragVertical:Z.A,Widget:Y.A,WidgetPicker:Le,WidgetEditor:wt,LinksEditor:xi},props:{page:{type:Object,required:!0}},emits:["update"],data(){return{localPage:JSON.parse(JSON.stringify(this.page)),showWidgetPicker:!1,editingWidget:null,editingRowIndex:null,editingSideColumn:null,targetRowIndex:null,targetColumn:null,targetSideColumn:null,nextWidgetId:1,columnArrays:{},sideColumnWidgets:{left:[],right:[]},headerRowWidgets:[],editingHeaderRow:!1,targetHeaderRow:!1,showDeleteDialog:!1,deleteDialogTitle:"",deleteDialogMessage:"",deleteCallback:null,focusedWidgetId:null}},computed:{hasHeaderRow(){return!0===this.localPage.layout.headerRow?.enabled},backgroundColors(){return[{label:this.t("Default (transparent)"),value:"",cssVar:"transparent"},{label:this.t("Primary"),value:"var(--color-primary-element)",cssVar:"var(--color-primary-element)"},{label:this.t("Primary light"),value:"var(--color-primary-element-light)",cssVar:"var(--color-primary-element-light)"},{label:this.t("Light background"),value:"var(--color-background-hover)",cssVar:"var(--color-background-hover)"}]}},mounted(){this.initializeWidgetIds(),this.initializeColumnArrays(),this.initializeSideColumns(),this.initializeHeaderRow()},watch:{localPage:{handler(){this.$emit("update",this.localPage)},deep:!0}},methods:{t:(e,t={})=>(0,$.Tl)("intravox",e,t),getRowStyle(e){const t={};return e.backgroundColor&&(t.backgroundColor=e.backgroundColor,"var(--color-primary-element)"===e.backgroundColor?t.color="var(--color-primary-element-text)":t.color="var(--color-main-text)"),t},needsEditButton:e=>["image","link","links","file","heading"].includes(e),initializeWidgetIds(){this.localPage.layout.rows.forEach(e=>{e.widgets.forEach(e=>{e.id||(e.id="widget-"+this.nextWidgetId++)})})},initializeColumnArrays(){const e={};this.localPage.layout.rows.forEach((t,i)=>{const o=(t.columns||this.localPage.layout.columns)??1;for(let a=1;a<=o;a++)e[`${i}-${a}`]=t.widgets.filter(e=>e.column===a)}),this.columnArrays=e},getColumnWidgets(e,t){const i=`${e}-${t}`;return this.columnArrays[i]||(this.columnArrays[i]=[]),this.columnArrays[i]},onDragEnd(e,t){this.$nextTick(()=>{this.localPage.layout.rows.forEach((e,t)=>{const i=[],o=(e.columns||this.localPage.layout.columns)??1;for(let e=1;e<=o;e++){const o=`${t}-${e}`;(this.columnArrays[o]||[]).forEach((t,o)=>{t.column=e,t.order=o+1,i.push(t)})}e.widgets=i}),this.initializeColumnArrays()})},setColumns(e){const t=this.localPage.layout.columns;this.localPage.layout.columns=e,e<t&&this.localPage.layout.rows.forEach(t=>{t.widgets.forEach(t=>{t.column>e&&(t.column=e)})}),this.initializeColumnArrays()},setRowColumns(e,t){const i=this.localPage.layout.rows[e],o=(i.columns||this.localPage.layout.columns)??1;i.columns=t,t<o&&i.widgets.forEach(e=>{e.column>t&&(e.column=t)}),this.initializeColumnArrays()},setRowBackgroundColor(e,t){this.localPage.layout.rows[e].backgroundColor=t,this.localPage.layout.rows=[...this.localPage.layout.rows]},addRow(){this.localPage.layout.rows.push({columns:1,widgets:[],backgroundColor:""}),this.initializeColumnArrays()},insertRow(e){this.localPage.layout.rows.splice(e,0,{columns:1,widgets:[],backgroundColor:""}),this.initializeColumnArrays()},deleteRow(e){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Delete row"),this.deleteDialogMessage=this.t("Are you sure you want to delete this row?"),this.deleteCallback=()=>{this.localPage.layout.rows.splice(e,1),this.initializeColumnArrays()}},showWidgetPickerForColumn(e,t){this.targetRowIndex=e,this.targetColumn=t,this.showWidgetPicker=!0},addWidget(e){const t=this.createWidget(e);if(t.id="widget-"+this.nextWidgetId++,this.targetHeaderRow)return t.order=this.headerRowWidgets.length+1,this.headerRowWidgets.push(t),this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets],this.showWidgetPicker=!1,"image"!==e&&"links"!==e&&"file"!==e&&"heading"!==e||this.editHeaderRowWidget(t),void(this.targetHeaderRow=!1);if(this.targetSideColumn){const i=this.targetSideColumn;return t.order=this.sideColumnWidgets[i].length+1,this.sideColumnWidgets[i].push(t),this.localPage.layout.sideColumns[i].widgets=[...this.sideColumnWidgets[i]],this.showWidgetPicker=!1,"image"!==e&&"links"!==e&&"file"!==e&&"heading"!==e||this.editSideColumnWidget(t,i),void(this.targetSideColumn=null)}const i=null!==this.targetRowIndex?this.targetRowIndex:0,o=null!==this.targetColumn?this.targetColumn:1;0===this.localPage.layout.rows.length&&this.addRow();const a=this.localPage.layout.rows[i];t.column=o,t.order=a.widgets.filter(e=>e.column===o).length+1,a.widgets.push(t),this.initializeColumnArrays(),this.showWidgetPicker=!1,"image"!==e&&"links"!==e&&"file"!==e&&"heading"!==e||this.editWidget(t,i),this.targetRowIndex=null,this.targetColumn=null},createWidget(e){const t={type:e,column:1,order:1};switch(e){case"text":t.content="";break;case"heading":t.content=this.t("New heading"),t.level=2;break;case"image":t.src="",t.alt="";break;case"link":t.url="",t.text=this.t("Link text");break;case"links":t.items=[],t.columns=2,t.backgroundColor=null;break;case"file":t.path="",t.name=this.t("File")}return t},editWidget(e,t){this.editingWidget=JSON.parse(JSON.stringify(e)),this.editingRowIndex=t},saveWidget(e){if(this.editingHeaderRow){const t=this.headerRowWidgets.findIndex(e=>e.id===this.editingWidget.id);return-1!==t&&(e.id=this.editingWidget.id,e.order=this.editingWidget.order,this.headerRowWidgets.splice(t,1,e),this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets],this.localPage=JSON.parse(JSON.stringify(this.localPage)),this.$emit("update",this.localPage)),this.editingWidget=null,void(this.editingHeaderRow=!1)}if(this.editingSideColumn){const t=this.editingSideColumn,i=this.sideColumnWidgets[t],o=i.findIndex(e=>e.id===this.editingWidget.id);return-1!==o&&(e.id=this.editingWidget.id,e.order=this.editingWidget.order,i.splice(o,1,e),this.localPage.layout.sideColumns[t].widgets=[...i],this.localPage=JSON.parse(JSON.stringify(this.localPage)),this.$emit("update",this.localPage)),this.editingWidget=null,void(this.editingSideColumn=null)}const t=this.localPage.layout.rows[this.editingRowIndex],i=t.widgets.findIndex(e=>e.id===this.editingWidget.id);-1!==i&&(e.id=this.editingWidget.id,e.column=this.editingWidget.column,e.order=this.editingWidget.order,t.widgets.splice(i,1,e),this.initializeColumnArrays(),this.localPage=JSON.parse(JSON.stringify(this.localPage)),this.$emit("update",this.localPage)),this.editingWidget=null,this.editingRowIndex=null},updateWidget(e,t){const i=this.localPage.layout.rows[t],o=i.widgets.findIndex(t=>t.id===e.id);-1!==o&&(i.widgets[o]=e,this.initializeColumnArrays(),this.$emit("update",this.localPage))},duplicateWidgetGeneric(e,t,i){const o=structuredClone(e);o.id="widget-"+this.nextWidgetId++;const a=t.findIndex(t=>t.id===e.id);-1!==a&&(o.order=e.order+1,t.splice(a+1,0,o),t.filter(t=>t.order>e.order&&t.id!==o.id).forEach(e=>e.order++),i&&i())},duplicateWidget(e,t){const i=this.columnArrays[`${e}-${t.column}`];this.duplicateWidgetGeneric(t,i,()=>this.initializeColumnArrays())},duplicateHeaderRowWidget(e){this.duplicateWidgetGeneric(e,this.headerRowWidgets,()=>{this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets]})},duplicateSideColumnWidget(e,t){this.duplicateWidgetGeneric(e,this.sideColumnWidgets[t],()=>{this.localPage.layout.sideColumns[t].widgets=[...this.sideColumnWidgets[t]]})},deleteWidget(e,t){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Delete widget"),this.deleteDialogMessage=this.t("Are you sure you want to delete this widget?"),this.deleteCallback=()=>{const i=this.localPage.layout.rows[e],o=i.widgets.findIndex(e=>e.id===t);-1!==o&&(i.widgets.splice(o,1),this.initializeColumnArrays())}},confirmDelete(){this.deleteCallback&&this.deleteCallback(),this.cancelDelete()},cancelDelete(){this.showDeleteDialog=!1,this.deleteDialogTitle="",this.deleteDialogMessage="",this.deleteCallback=null},initializeSideColumns(){this.localPage.layout.sideColumns||(this.localPage.layout.sideColumns={left:{enabled:!1,backgroundColor:"",widgets:[]},right:{enabled:!1,backgroundColor:"",widgets:[]}}),["left","right"].forEach(e=>{this.localPage.layout.sideColumns[e]||(this.localPage.layout.sideColumns[e]={enabled:!1,backgroundColor:"",widgets:[]}),this.sideColumnWidgets[e]=this.localPage.layout.sideColumns[e].widgets||[],this.sideColumnWidgets[e].forEach(e=>{e.id||(e.id="widget-"+this.nextWidgetId++)})})},hasSideColumn(e){return!0===this.localPage.layout.sideColumns?.[e]?.enabled},addSideColumn(e){this.localPage.layout.sideColumns||(this.localPage.layout.sideColumns={}),this.localPage.layout.sideColumns[e]={enabled:!0,backgroundColor:"",widgets:[]},this.sideColumnWidgets[e]=[],this.localPage=JSON.parse(JSON.stringify(this.localPage))},removeSideColumn(e){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Remove column"),this.deleteDialogMessage=this.t("Are you sure you want to remove this column?"),this.deleteCallback=()=>{this.localPage.layout.sideColumns?.[e]&&(this.localPage.layout.sideColumns[e].enabled=!1,this.localPage.layout.sideColumns[e].widgets=[],this.sideColumnWidgets[e]=[],this.localPage=JSON.parse(JSON.stringify(this.localPage)))}},getSideColumnWidgets(e){return this.sideColumnWidgets[e]||[]},getSideColumnBgColor(e){return this.localPage.layout.sideColumns?.[e]?.backgroundColor||""},getSideColumnStyle(e){const t=this.localPage.layout.sideColumns?.[e];if(!t)return{};const i={};return t.backgroundColor&&(i.backgroundColor=t.backgroundColor,"var(--color-primary-element)"===t.backgroundColor?i.color="var(--color-primary-element-text)":i.color="var(--color-main-text)"),i},setSideColumnBackgroundColor(e,t){this.localPage.layout.sideColumns?.[e]&&(this.localPage.layout.sideColumns[e].backgroundColor=t,this.localPage=JSON.parse(JSON.stringify(this.localPage)))},showSideColumnWidgetPicker(e){this.targetSideColumn=e,this.targetRowIndex=null,this.targetColumn=null,this.showWidgetPicker=!0},onSideColumnDragEnd(e){this.$nextTick(()=>{this.sideColumnWidgets[e].forEach((e,t)=>{e.order=t+1}),this.localPage.layout.sideColumns[e].widgets=[...this.sideColumnWidgets[e]]})},editSideColumnWidget(e,t){this.editingWidget=JSON.parse(JSON.stringify(e)),this.editingSideColumn=t,this.editingRowIndex=null},updateSideColumnWidget(e,t){const i=this.sideColumnWidgets[t],o=i.findIndex(t=>t.id===e.id);-1!==o&&(i[o]=e,this.localPage.layout.sideColumns[t].widgets=[...i],this.$emit("update",this.localPage))},deleteSideColumnWidget(e,t){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Delete widget"),this.deleteDialogMessage=this.t("Are you sure you want to delete this widget?"),this.deleteCallback=()=>{const i=this.sideColumnWidgets[e].findIndex(e=>e.id===t);-1!==i&&(this.sideColumnWidgets[e].splice(i,1),this.localPage.layout.sideColumns[e].widgets=[...this.sideColumnWidgets[e]])}},initializeHeaderRow(){this.localPage.layout.headerRow||(this.localPage.layout.headerRow={enabled:!1,backgroundColor:"",widgets:[]}),this.headerRowWidgets=this.localPage.layout.headerRow.widgets||[],this.headerRowWidgets.forEach(e=>{e.id||(e.id="widget-"+this.nextWidgetId++)})},addHeaderRow(){this.localPage.layout.headerRow||(this.localPage.layout.headerRow={}),this.localPage.layout.headerRow={enabled:!0,backgroundColor:"",widgets:[]},this.headerRowWidgets=[],this.localPage=JSON.parse(JSON.stringify(this.localPage))},removeHeaderRow(){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Remove header row"),this.deleteDialogMessage=this.t("Are you sure you want to remove the header row?"),this.deleteCallback=()=>{this.localPage.layout.headerRow&&(this.localPage.layout.headerRow.enabled=!1,this.localPage.layout.headerRow.widgets=[],this.headerRowWidgets=[],this.localPage=JSON.parse(JSON.stringify(this.localPage)))}},getHeaderRowBgColor(){return this.localPage.layout.headerRow?.backgroundColor||""},getHeaderRowStyle(){const e=this.localPage.layout.headerRow;if(!e)return{};const t={};return e.backgroundColor&&(t.backgroundColor=e.backgroundColor,"var(--color-primary-element)"===e.backgroundColor?t.color="var(--color-primary-element-text)":t.color="var(--color-main-text)"),t},setHeaderRowBackgroundColor(e){this.localPage.layout.headerRow&&(this.localPage.layout.headerRow.backgroundColor=e,this.localPage=JSON.parse(JSON.stringify(this.localPage)))},showHeaderRowWidgetPicker(){this.targetHeaderRow=!0,this.targetSideColumn=null,this.targetRowIndex=null,this.targetColumn=null,this.showWidgetPicker=!0},onHeaderRowDragEnd(){this.$nextTick(()=>{this.headerRowWidgets.forEach((e,t)=>{e.order=t+1}),this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets]})},editHeaderRowWidget(e){this.editingWidget=JSON.parse(JSON.stringify(e)),this.editingHeaderRow=!0,this.editingSideColumn=null,this.editingRowIndex=null},updateHeaderRowWidget(e){const t=this.headerRowWidgets.findIndex(t=>t.id===e.id);-1!==t&&(this.headerRowWidgets[t]=e,this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets],this.$emit("update",this.localPage))},deleteHeaderRowWidget(e){this.showDeleteDialog=!0,this.deleteDialogTitle=this.t("Delete widget"),this.deleteDialogMessage=this.t("Are you sure you want to delete this widget?"),this.deleteCallback=()=>{const t=this.headerRowWidgets.findIndex(t=>t.id===e);-1!==t&&(this.headerRowWidgets.splice(t,1),this.localPage.layout.headerRow.widgets=[...this.headerRowWidgets])}}}};var fi=i(97227),Ci={};Ci.styleTagTransform=ye(),Ci.setAttributes=be(),Ci.insert=me().bind(null,"head"),Ci.domAPI=pe(),Ci.insertStyleElement=we(),ge()(fi.A,Ci),fi.A&&fi.A.locals&&fi.A.locals;const Wi=(0,We.A)(yi,[["render",function(e,t,i,O,B,$){const X=(0,o.g2)("Palette"),M=(0,o.g2)("NcActionButton"),Q=(0,o.g2)("NcActions"),J=(0,o.g2)("Delete"),j=(0,o.g2)("NcButton"),V=(0,o.g2)("DragVertical"),U=(0,o.g2)("Pencil"),K=(0,o.g2)("ContentDuplicate"),G=(0,o.g2)("Widget"),q=(0,o.g2)("draggable"),Z=(0,o.g2)("Plus"),Y=(0,o.g2)("TableRowPlusBefore"),ee=(0,o.g2)("TableColumnPlusBefore"),te=(0,o.g2)("TableColumnPlusAfter"),ie=(0,o.g2)("TableRowPlusAfter"),oe=(0,o.g2)("WidgetPicker"),ae=(0,o.g2)("WidgetEditor"),ne=(0,o.g2)("LinksEditor"),le=(0,o.g2)("NcDialog");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Q3)(" Header Row (spans full width above everything) "),$.hasHeaderRow?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"header-row-editor",style:(0,a.Tr)($.getHeaderRowStyle())},[(0,o.Lk)("div",l,[(0,o.Lk)("span",r,(0,a.v_)($.t("Header row")),1),(0,o.Lk)("div",d,[(0,o.bF)(Q,null,{icon:(0,o.k6)(()=>[(0,o.bF)(X,{size:20})]),default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)($.backgroundColors,e=>((0,o.uX)(),(0,o.Wv)(M,{key:e.value,onClick:t=>$.setHeaderRowBackgroundColor(e.value)},{icon:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"color-preview",style:(0,a.Tr)({background:e.cssVar})},null,4)]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)(e.label),1)]),_:2},1032,["onClick"]))),128))]),_:1}),(0,o.bF)(j,{type:"error",onClick:t[0]||(t[0]=e=>$.removeHeaderRow()),"aria-label":$.t("Remove header row")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:20})]),_:1},8,["aria-label"])])]),(0,o.Lk)("div",s,[(0,o.bF)(q,{list:B.headerRowWidgets,group:{name:"headerWidgets",pull:!0,put:!0},animation:200,"item-key":"id",handle:".drag-handle",onEnd:$.onHeaderRowDragEnd,class:"header-widget-drop-zone"},{item:(0,o.k6)(({element:e})=>[(0,o.Lk)("div",c,[(0,o.Lk)("div",g,[(0,o.Lk)("div",{class:"drag-handle","aria-label":$.t("Drag to reorder")},[(0,o.bF)(V,{size:16})],8,u),$.needsEditButton(e.type)?((0,o.uX)(),(0,o.Wv)(j,{key:0,onClick:t=>$.editHeaderRowWidget(e),type:"secondary","aria-label":$.t("Edit widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(U,{size:16})]),_:1},8,["onClick","aria-label"])):(0,o.Q3)("v-if",!0),(0,o.bF)(j,{onClick:t=>$.duplicateHeaderRowWidget(e),type:"secondary","aria-label":$.t("Duplicate widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(K,{size:16})]),_:1},8,["onClick","aria-label"]),(0,o.bF)(j,{onClick:t=>$.deleteHeaderRowWidget(e.id),type:"error","aria-label":$.t("Delete widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:16})]),_:1},8,["onClick","aria-label"])]),(0,o.bF)(G,{widget:e,"page-id":i.page.uniqueId,editable:!0,"row-background-color":$.getHeaderRowBgColor(),onUpdate:t[1]||(t[1]=e=>$.updateHeaderRowWidget(e))},null,8,["widget","page-id","row-background-color"])])]),_:1},8,["list","onEnd"]),(0,o.bF)(j,{onClick:t[2]||(t[2]=e=>$.showHeaderRowWidgetPicker()),type:"primary",class:"add-widget-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(Z,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Add Widget")),1)]),_:1})])],4)):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Add Header Row Button (when no header row exists) "),$.hasHeaderRow?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bF)(j,{onClick:t[3]||(t[3]=e=>$.addHeaderRow()),type:"secondary",class:"add-header-row-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(Y,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Header row")),1)]),_:1})])),(0,o.Lk)("div",h,[(0,o.Q3)(" Left Side Column "),$.hasSideColumn("left")?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"side-column-editor side-column-left",style:(0,a.Tr)($.getSideColumnStyle("left"))},[(0,o.Lk)("div",m,[(0,o.Lk)("span",v,(0,a.v_)($.t("Left column")),1),(0,o.Lk)("div",b,[(0,o.bF)(Q,null,{icon:(0,o.k6)(()=>[(0,o.bF)(X,{size:20})]),default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)($.backgroundColors,e=>((0,o.uX)(),(0,o.Wv)(M,{key:e.value,onClick:t=>$.setSideColumnBackgroundColor("left",e.value)},{icon:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"color-preview",style:(0,a.Tr)({background:e.cssVar})},null,4)]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)(e.label),1)]),_:2},1032,["onClick"]))),128))]),_:1}),(0,o.bF)(j,{type:"error",onClick:t[4]||(t[4]=e=>$.removeSideColumn("left")),"aria-label":$.t("Remove column")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:20})]),_:1},8,["aria-label"])])]),(0,o.Lk)("div",k,[(0,o.bF)(q,{list:$.getSideColumnWidgets("left"),group:{name:"sideWidgets",pull:!0,put:!0},animation:200,"item-key":"id",handle:".drag-handle",onEnd:t[6]||(t[6]=e=>$.onSideColumnDragEnd("left")),class:"side-widget-drop-zone"},{item:(0,o.k6)(({element:e})=>[(0,o.Lk)("div",w,[(0,o.Lk)("div",x,[(0,o.Lk)("div",{class:"drag-handle","aria-label":$.t("Drag to reorder")},[(0,o.bF)(V,{size:16})],8,y),$.needsEditButton(e.type)?((0,o.uX)(),(0,o.Wv)(j,{key:0,onClick:t=>$.editSideColumnWidget(e,"left"),type:"secondary","aria-label":$.t("Edit widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(U,{size:16})]),_:1},8,["onClick","aria-label"])):(0,o.Q3)("v-if",!0),(0,o.bF)(j,{onClick:t=>$.duplicateSideColumnWidget(e,"left"),type:"secondary","aria-label":$.t("Duplicate widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(K,{size:16})]),_:1},8,["onClick","aria-label"]),(0,o.bF)(j,{onClick:t=>$.deleteSideColumnWidget("left",e.id),type:"error","aria-label":$.t("Delete widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:16})]),_:1},8,["onClick","aria-label"])]),(0,o.bF)(G,{widget:e,"page-id":i.page.uniqueId,editable:!0,"row-background-color":$.getSideColumnBgColor("left"),onUpdate:t[5]||(t[5]=e=>$.updateSideColumnWidget(e,"left"))},null,8,["widget","page-id","row-background-color"])])]),_:1},8,["list"]),(0,o.bF)(j,{onClick:t[7]||(t[7]=e=>$.showSideColumnWidgetPicker("left")),type:"primary",class:"add-widget-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(Z,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Add Widget")),1)]),_:1})])],4)):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Main Content Area "),(0,o.Lk)("div",f,[(0,o.Q3)(" Add Side Column Buttons "),(0,o.Lk)("div",C,[$.hasSideColumn("left")?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(j,{key:0,onClick:t[8]||(t[8]=e=>$.addSideColumn("left")),type:"secondary","aria-label":$.t("Add left column")},{icon:(0,o.k6)(()=>[(0,o.bF)(ee,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Left column")),1)]),_:1},8,["aria-label"])),$.hasSideColumn("right")?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(j,{key:1,onClick:t[9]||(t[9]=e=>$.addSideColumn("right")),type:"secondary","aria-label":$.t("Add right column")},{icon:(0,o.k6)(()=>[(0,o.bF)(te,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Right column")),1)]),_:1},8,["aria-label"]))]),(0,o.Q3)(" Page Grid "),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(B.localPage.layout.rows,(e,n)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:n},[(0,o.Lk)("div",{class:"page-row editable",style:(0,a.Tr)($.getRowStyle(e))},[(0,o.Lk)("div",W,[(0,o.Lk)("label",L,(0,a.v_)($.t("Row columns:")),1),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(5,t=>(0,o.Lk)("button",{key:t,class:(0,a.C4)([{active:(e.columns||B.localPage.layout.columns)===t},"column-button small"]),onClick:e=>$.setRowColumns(n,t),style:{"margin-right":"4px"}},(0,a.v_)(t),11,P)),64)),(0,o.Q3)(" Background Color Picker "),(0,o.bF)(Q,{style:{"margin-left":"8px"}},{icon:(0,o.k6)(()=>[(0,o.bF)(X,{size:20})]),default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)($.backgroundColors,e=>((0,o.uX)(),(0,o.Wv)(M,{key:e.value,onClick:t=>$.setRowBackgroundColor(n,e.value)},{icon:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"color-preview",style:(0,a.Tr)({background:e.cssVar})},null,4)]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)(e.label),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024),(0,o.bF)(j,{onClick:e=>$.deleteRow(n),type:"error","aria-label":$.t("Delete row"),style:{"margin-left":"8px"}},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:20})]),_:1},8,["onClick","aria-label"])]),(0,o.Lk)("div",{class:"page-grid",style:(0,a.Tr)({gridTemplateColumns:`repeat(${(e.columns||B.localPage.layout.columns)??1}, 1fr)`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((e.columns||B.localPage.layout.columns)??1,l=>((0,o.uX)(),(0,o.CE)("div",{key:`${n}-${l}`,class:"page-column droppable"},[(0,o.Lk)("div",A,(0,a.v_)($.t("Column {column}",{column:l})),1),(0,o.bF)(q,{list:$.getColumnWidgets(n,l),group:{name:"widgets",pull:!0,put:!0},animation:200,"item-key":"id",handle:".drag-handle",onEnd:e=>$.onDragEnd(n,l),class:"widget-drop-zone"},{item:(0,o.k6)(({element:l})=>[(0,o.Lk)("div",{class:(0,a.C4)(["widget-wrapper",{editing:B.focusedWidgetId===l.id}])},[(0,o.Q3)(" Floating toolbar - appears on hover "),(0,o.Lk)("div",S,[(0,o.Lk)("div",{class:"drag-handle","aria-label":$.t("Drag to reorder")},[(0,o.bF)(V,{size:16})],8,_),$.needsEditButton(l.type)?((0,o.uX)(),(0,o.Wv)(j,{key:0,onClick:e=>$.editWidget(l,n),type:"secondary","aria-label":$.t("Edit widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(U,{size:16})]),_:1},8,["onClick","aria-label"])):(0,o.Q3)("v-if",!0),(0,o.bF)(j,{onClick:e=>$.duplicateWidget(n,l),type:"secondary","aria-label":$.t("Duplicate widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(K,{size:16})]),_:1},8,["onClick","aria-label"]),(0,o.bF)(j,{onClick:e=>$.deleteWidget(n,l.id),type:"error","aria-label":$.t("Delete widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:16})]),_:1},8,["onClick","aria-label"])]),(0,o.bF)(G,{widget:l,"page-id":i.page.uniqueId,editable:!0,"row-background-color":e.backgroundColor||"",onUpdate:e=>$.updateWidget(e,n),onFocus:e=>B.focusedWidgetId=l.id,onBlur:t[10]||(t[10]=e=>B.focusedWidgetId=null)},null,8,["widget","page-id","row-background-color","onUpdate","onFocus"])],2)]),_:2},1032,["list","onEnd"]),(0,o.Lk)("div",R,[(0,o.bF)(j,{onClick:e=>$.showWidgetPickerForColumn(n,l),type:"primary",class:"add-widget-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(Z,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Add Widget")),1)]),_:1},8,["onClick"])])]))),128))],4)],4),(0,o.Q3)(" Insert Row Button "),(0,o.Lk)("div",z,[(0,o.bF)(j,{onClick:e=>$.insertRow(n+1),type:"secondary",class:"insert-row-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(ie,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Insert Row")),1)]),_:1},8,["onClick"])])],64))),128)),(0,o.Q3)(" Widget Picker Modal "),B.showWidgetPicker?((0,o.uX)(),(0,o.Wv)(oe,{key:0,onClose:t[11]||(t[11]=e=>B.showWidgetPicker=!1),onSelect:$.addWidget},null,8,["onSelect"])):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Widget Editor Modal "),B.editingWidget&&"links"!==B.editingWidget.type?((0,o.uX)(),(0,o.Wv)(ae,{key:1,widget:B.editingWidget,"page-id":i.page.uniqueId,onClose:t[12]||(t[12]=e=>B.editingWidget=null),onSave:$.saveWidget},null,8,["widget","page-id","onSave"])):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Links Editor Modal "),B.editingWidget&&"links"===B.editingWidget.type?((0,o.uX)(),(0,o.Wv)(ne,{key:2,widget:B.editingWidget,onClose:t[13]||(t[13]=e=>B.editingWidget=null),onSave:$.saveWidget},null,8,["widget","onSave"])):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Delete Confirmation Dialog "),B.showDeleteDialog?((0,o.uX)(),(0,o.Wv)(le,{key:3,name:B.deleteDialogTitle,onClosing:$.cancelDelete},{actions:(0,o.k6)(()=>[(0,o.bF)(j,{onClick:$.cancelDelete,type:"secondary"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)($.t("Cancel")),1)]),_:1},8,["onClick"]),(0,o.bF)(j,{onClick:$.confirmDelete,type:"error"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)($.t("Delete")),1)]),_:1},8,["onClick"])]),default:(0,o.k6)(()=>[(0,o.Lk)("p",null,(0,a.v_)(B.deleteDialogMessage),1)]),_:1},8,["name","onClosing"])):(0,o.Q3)("v-if",!0)]),(0,o.Q3)(" Right Side Column "),$.hasSideColumn("right")?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"side-column-editor side-column-right",style:(0,a.Tr)($.getSideColumnStyle("right"))},[(0,o.Lk)("div",F,[(0,o.Lk)("span",E,(0,a.v_)($.t("Right column")),1),(0,o.Lk)("div",I,[(0,o.bF)(Q,null,{icon:(0,o.k6)(()=>[(0,o.bF)(X,{size:20})]),default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)($.backgroundColors,e=>((0,o.uX)(),(0,o.Wv)(M,{key:e.value,onClick:t=>$.setSideColumnBackgroundColor("right",e.value)},{icon:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"color-preview",style:(0,a.Tr)({background:e.cssVar})},null,4)]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)(e.label),1)]),_:2},1032,["onClick"]))),128))]),_:1}),(0,o.bF)(j,{type:"error",onClick:t[14]||(t[14]=e=>$.removeSideColumn("right")),"aria-label":$.t("Remove column")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:20})]),_:1},8,["aria-label"])])]),(0,o.Lk)("div",D,[(0,o.bF)(q,{list:$.getSideColumnWidgets("right"),group:{name:"sideWidgets",pull:!0,put:!0},animation:200,"item-key":"id",handle:".drag-handle",onEnd:t[16]||(t[16]=e=>$.onSideColumnDragEnd("right")),class:"side-widget-drop-zone"},{item:(0,o.k6)(({element:e})=>[(0,o.Lk)("div",H,[(0,o.Lk)("div",T,[(0,o.Lk)("div",{class:"drag-handle","aria-label":$.t("Drag to reorder")},[(0,o.bF)(V,{size:16})],8,N),$.needsEditButton(e.type)?((0,o.uX)(),(0,o.Wv)(j,{key:0,onClick:t=>$.editSideColumnWidget(e,"right"),type:"secondary","aria-label":$.t("Edit widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(U,{size:16})]),_:1},8,["onClick","aria-label"])):(0,o.Q3)("v-if",!0),(0,o.bF)(j,{onClick:t=>$.duplicateSideColumnWidget(e,"right"),type:"secondary","aria-label":$.t("Duplicate widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(K,{size:16})]),_:1},8,["onClick","aria-label"]),(0,o.bF)(j,{onClick:t=>$.deleteSideColumnWidget("right",e.id),type:"error","aria-label":$.t("Delete widget")},{icon:(0,o.k6)(()=>[(0,o.bF)(J,{size:16})]),_:1},8,["onClick","aria-label"])]),(0,o.bF)(G,{widget:e,"page-id":i.page.uniqueId,editable:!0,"row-background-color":$.getSideColumnBgColor("right"),onUpdate:t[15]||(t[15]=e=>$.updateSideColumnWidget(e,"right"))},null,8,["widget","page-id","row-background-color"])])]),_:1},8,["list"]),(0,o.bF)(j,{onClick:t[17]||(t[17]=e=>$.showSideColumnWidgetPicker("right")),type:"primary",class:"add-widget-btn"},{icon:(0,o.k6)(()=>[(0,o.bF)(Z,{size:20})]),default:(0,o.k6)(()=>[(0,o.eW)(" "+(0,a.v_)($.t("Add Widget")),1)]),_:1})])],4)):(0,o.Q3)("v-if",!0)])])}],["__scopeId","data-v-06137888"]])},47245:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(31601),a=i.n(o),n=i(76314),l=i.n(n)()(a());l.push([e.id,"\n.links-editor-modal[data-v-59890675] .modal-container {\n  max-width: 900px !important;\n}\n.links-editor-content[data-v-59890675] {\n  padding: 20px;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n.form-section[data-v-59890675] {\n  margin-bottom: 30px;\n  padding-bottom: 20px;\n  border-bottom: 1px solid var(--color-border);\n}\n.form-section[data-v-59890675]:last-of-type {\n  border-bottom: none;\n}\n.form-section h3[data-v-59890675] {\n  margin: 0 0 15px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--color-main-text);\n}\n.section-header[data-v-59890675] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n.section-header h3[data-v-59890675] {\n  margin: 0;\n}\n.form-group[data-v-59890675] {\n  margin-bottom: 15px;\n}\n.form-group label[data-v-59890675] {\n  display: block;\n  margin-bottom: 6px;\n  font-weight: 500;\n  font-size: 13px;\n  color: var(--color-main-text);\n}\n.widget-input[data-v-59890675] {\n  width: 100%;\n  padding: 8px 12px;\n  border: 2px solid var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  font-size: 14px;\n}\n.widget-input[data-v-59890675]:focus {\n  outline: none;\n  border-color: var(--color-primary-element);\n}\n.color-presets[data-v-59890675] {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.color-preset-btn[data-v-59890675] {\n  padding: 8px 16px;\n  border: 2px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s;\n}\n.color-preset-btn.small[data-v-59890675] {\n  padding: 6px 12px;\n  font-size: 12px;\n}\n.color-preset-btn[data-v-59890675]:hover {\n  background: var(--color-background-hover);\n  border-color: var(--color-primary);\n}\n.color-preset-btn.active[data-v-59890675] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.links-list[data-v-59890675] {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n.link-editor-item[data-v-59890675] {\n  display: flex;\n  gap: 15px;\n  align-items: flex-start;\n  padding: 15px;\n  background: var(--color-background-hover);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n}\n.link-number[data-v-59890675] {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-primary-element);\n  color: white;\n  border-radius: 50%;\n  font-weight: 600;\n  font-size: 13px;\n}\n.link-fields[data-v-59890675] {\n  flex: 1;\n}\n.form-row[data-v-59890675] {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 10px;\n}\n.form-row[data-v-59890675]:last-child {\n  margin-bottom: 0;\n}\n.flex-1[data-v-59890675] {\n  flex: 1;\n}\n.remove-link-btn[data-v-59890675] {\n  flex-shrink: 0;\n  padding: 8px;\n  background: transparent;\n  border: none;\n  color: var(--color-error);\n  cursor: pointer;\n  border-radius: var(--border-radius);\n  transition: all 0.2s;\n}\n.remove-link-btn[data-v-59890675]:hover {\n  background: var(--color-error);\n  color: white;\n}\n.icon-option[data-v-59890675] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.empty-state[data-v-59890675] {\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--color-text-maxcontrast);\n}\n.empty-state svg[data-v-59890675] {\n  margin-bottom: 10px;\n  color: var(--color-text-maxcontrast);\n}\n.empty-state p[data-v-59890675] {\n  margin: 0;\n  font-size: 14px;\n}\n.modal-footer[data-v-59890675] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  padding-top: 20px;\n  border-top: 1px solid var(--color-border);\n  margin-top: 20px;\n}\n\n/* Mobile responsiveness */\n@media (max-width: 768px) {\n.form-row[data-v-59890675] {\n    flex-direction: column;\n    gap: 10px;\n}\n.link-editor-item[data-v-59890675] {\n    flex-direction: column;\n}\n.remove-link-btn[data-v-59890675] {\n    align-self: flex-end;\n}\n}\n",""]);const r=l},55933:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(31601),a=i.n(o),n=i(76314),l=i.n(n)()(a());l.push([e.id,"\n/* Make modal wider for better editing experience */\n.widget-editor-modal[data-v-d30aaa3c] .modal-container {\n  max-width: 1200px !important;\n}\n\n/* Remove all padding from modal content wrapper */\n[data-v-d30aaa3c] .modal-wrapper--large .modal-container {\n  padding: 0;\n}\n[data-v-d30aaa3c] .modal-wrapper .modal-container .modal-container__content {\n  padding: 0;\n  margin: 0;\n}\n[data-v-d30aaa3c] .modal-container > * {\n  padding: 0;\n}\n.widget-editor-content[data-v-d30aaa3c] {\n  padding: 0;\n  width: 100%;\n  margin: 0;\n}\n.form-group[data-v-d30aaa3c] {\n  margin-bottom: 20px;\n  padding: 0 20px;\n}\n.full-width-editor[data-v-d30aaa3c] {\n  padding: 0;\n  margin: 0;\n}\n.full-width-editor label[data-v-d30aaa3c] {\n  padding: 20px 20px 0 20px;\n  display: block;\n  margin: 0;\n}\n.form-group label[data-v-d30aaa3c] {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: var(--color-main-text);\n}\n.form-group .hint[data-v-d30aaa3c] {\n  margin-top: 4px;\n  margin-bottom: 0;\n  font-size: 12px;\n  color: var(--color-text-maxcontrast);\n}\n.heading-text-input[data-v-d30aaa3c],\n.heading-level-select[data-v-d30aaa3c],\n.widget-input[data-v-d30aaa3c] {\n  width: 100%;\n  padding: 8px 12px;\n  border: 2px solid var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  font-size: 14px;\n}\n.heading-text-input[data-v-d30aaa3c],\n.widget-input[data-v-d30aaa3c] {\n  cursor: text;\n}\n.heading-level-select[data-v-d30aaa3c] {\n  cursor: pointer;\n}\n.heading-text-input[data-v-d30aaa3c]:focus,\n.heading-level-select[data-v-d30aaa3c]:focus,\n.widget-input[data-v-d30aaa3c]:focus {\n  outline: none;\n  border-color: var(--color-primary-element);\n}\n.image-preview[data-v-d30aaa3c] {\n  margin: 15px 0;\n  max-width: 100%;\n}\n.image-preview img[data-v-d30aaa3c] {\n  max-width: 100%;\n  height: auto;\n  border-radius: var(--border-radius-large);\n  border: 1px solid var(--color-border);\n}\n.modal-footer[data-v-d30aaa3c] {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  padding: 20px;\n  border-top: 1px solid var(--color-border);\n  margin-top: 0;\n}\n\n/* Rich Text Editor Toolbar */\n.rich-text-toolbar[data-v-d30aaa3c] {\n  display: flex;\n  gap: 4px;\n  padding: 12px 20px;\n  background: var(--color-background-dark);\n  border: 1px solid var(--color-border);\n  border-left: none;\n  border-right: none;\n  border-radius: 0;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.toolbar-btn[data-v-d30aaa3c] {\n  padding: 6px 12px;\n  background: var(--color-main-background);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  color: var(--color-main-text);\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.toolbar-btn[data-v-d30aaa3c]:hover {\n  background: var(--color-background-hover);\n  border-color: var(--color-primary);\n}\n.toolbar-btn.is-active[data-v-d30aaa3c] {\n  background: var(--color-primary-element-light);\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n.toolbar-divider[data-v-d30aaa3c] {\n  width: 1px;\n  height: 24px;\n  background: var(--color-border);\n  margin: 0 4px;\n}\n\n/* Tiptap Editor Styles */\n.rich-text-editor[data-v-d30aaa3c] {\n  width: 100%;\n  border: 1px solid var(--color-border);\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-radius: 0;\n  background: var(--color-main-background);\n}\n.rich-text-editor[data-v-d30aaa3c] .tiptap {\n  width: 100%;\n  max-width: 100%;\n}\n\n/* Force full width using custom class to override Tiptap inline styles */\n.rich-text-editor[data-v-d30aaa3c] .intravox-editor-full-width {\n  width: 100% !important;\n  min-height: 400px;\n  max-height: 600px;\n  padding: 20px;\n  color: var(--color-main-text);\n  font-family: var(--font-face);\n  font-size: 14px;\n  line-height: 1.5;\n  overflow-y: auto;\n  outline: none;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror {\n  width: 100%;\n  min-height: 400px;\n  max-height: 600px;\n  padding: 20px;\n  color: var(--color-main-text);\n  font-family: var(--font-face);\n  font-size: 14px;\n  line-height: 1.5;\n  overflow-y: auto;\n  outline: none;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror:focus {\n  outline: none;\n}\n\n/* Rich text content styling */\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror p {\n  margin: 0;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror p + p {\n  margin-top: 0;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror ul,\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror ol {\n  padding-left: 1.5em;\n  margin: 0.5em 0;\n  list-style-position: outside;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror ul {\n  list-style-type: disc;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror ol {\n  list-style-type: decimal;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror li {\n  margin: 0.25em 0;\n  display: list-item;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror li p {\n  margin: 0;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror strong {\n  font-weight: 700;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror em {\n  font-style: italic;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror u {\n  text-decoration: underline;\n}\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror s {\n  text-decoration: line-through;\n}\n\n/* Placeholder */\n.rich-text-editor[data-v-d30aaa3c] .ProseMirror p.is-editor-empty:first-child::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: var(--color-text-maxcontrast);\n  pointer-events: none;\n  height: 0;\n}\n.size-presets[data-v-d30aaa3c] {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n.size-preset-btn[data-v-d30aaa3c] {\n  padding: 8px 16px;\n  border: 2px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s;\n}\n.size-preset-btn[data-v-d30aaa3c]:hover {\n  background: var(--color-background-hover);\n  border-color: var(--color-primary);\n}\n.size-preset-btn.active[data-v-d30aaa3c] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.custom-size-inputs[data-v-d30aaa3c] {\n  display: flex;\n  gap: 15px;\n}\n.size-input-group[data-v-d30aaa3c] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n.size-label[data-v-d30aaa3c] {\n  font-size: 14px;\n  color: var(--color-text-maxcontrast);\n  min-width: 60px;\n}\n.size-input[data-v-d30aaa3c] {\n  flex: 1;\n  padding: 8px 12px;\n  border: 2px solid var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  font-size: 14px;\n}\n.size-input[data-v-d30aaa3c]:focus {\n  outline: none;\n  border-color: var(--color-primary-element);\n}\n.size-hint[data-v-d30aaa3c] {\n  margin-top: 8px;\n  font-size: 12px;\n  color: var(--color-text-maxcontrast);\n  font-style: italic;\n}\n",""]);const r=l},89712:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(31601),a=i.n(o),n=i(76314),l=i.n(n)()(a());l.push([e.id,"\n.widget-picker-content[data-v-0469ca96] {\n  padding: 12px;\n}\n.widget-types[data-v-0469ca96] {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n  max-width: 400px;\n}\n.widget-type-card[data-v-0469ca96] {\n  padding: 20px 16px;\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  gap: 8px;\n  background: var(--color-main-background);\n  min-height: 80px;\n  justify-content: center;\n}\n.widget-type-card[data-v-0469ca96]:hover {\n  border-color: var(--color-primary);\n  background: var(--color-background-hover);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n.widget-icon[data-v-0469ca96] {\n  color: var(--color-text-maxcontrast);\n}\n.widget-info[data-v-0469ca96] {\n  width: 100%;\n}\n.widget-info h3[data-v-0469ca96] {\n  margin: 0;\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--color-main-text);\n}\n",""]);const r=l},97227:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(31601),a=i.n(o),n=i(76314),l=i.n(n)()(a());l.push([e.id,"\n.page-editor-wrapper[data-v-06137888] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.page-editor-container[data-v-06137888] {\n  display: flex;\n  gap: 16px;\n  width: 100%;\n}\n.page-editor[data-v-06137888] {\n  flex: 1;\n  min-width: 0;\n  width: 100%;\n}\n\n/* Header Row Editor Styles */\n.header-row-editor[data-v-06137888] {\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 16px;\n  border: 2px dashed var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  background-color: var(--color-background-dark);\n  box-sizing: border-box;\n}\n.header-row-header[data-v-06137888] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid var(--color-border);\n}\n.header-row-title[data-v-06137888] {\n  font-weight: 600;\n  font-size: 14px;\n}\n.header-row-actions[data-v-06137888] {\n  display: flex;\n  gap: 4px;\n}\n.header-row-widgets[data-v-06137888] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.header-widget-drop-zone[data-v-06137888] {\n  min-height: 80px;\n}\n.add-header-row-container[data-v-06137888] {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-background-hover);\n  border-radius: var(--border-radius-large);\n}\n.add-header-row-btn[data-v-06137888] {\n  width: auto;\n}\n\n/* Side Column Editor Styles */\n.side-column-editor[data-v-06137888] {\n  flex-shrink: 0;\n  width: 280px;\n  min-width: 250px;\n  max-width: 320px;\n  padding: 16px;\n  border: 2px dashed var(--color-border-dark);\n  border-radius: var(--border-radius-large);\n  background-color: var(--color-background-dark);\n  box-sizing: border-box;\n  align-self: flex-start;\n}\n.side-column-header[data-v-06137888] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid var(--color-border);\n}\n.side-column-title[data-v-06137888] {\n  font-weight: 600;\n  font-size: 14px;\n}\n.side-column-actions[data-v-06137888] {\n  display: flex;\n  gap: 4px;\n}\n.side-column-widgets[data-v-06137888] {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n.side-widget-drop-zone[data-v-06137888] {\n  min-height: 80px;\n}\n.side-column-buttons[data-v-06137888] {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n  padding: 12px;\n  background: var(--color-background-hover);\n  border-radius: var(--border-radius-large);\n}\n\n/* Mobile responsive */\n@media (max-width: 768px) {\n.page-editor-container[data-v-06137888] {\n    flex-direction: column;\n}\n.side-column-editor[data-v-06137888] {\n    width: 100%;\n    min-width: 100%;\n    max-width: 100%;\n    order: 1;\n}\n.side-column-left[data-v-06137888] {\n    order: -1;\n}\n.page-editor[data-v-06137888] {\n    order: 0;\n}\n.side-column-buttons[data-v-06137888] {\n    flex-direction: column;\n}\n}\n.editor-toolbar[data-v-06137888] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  background: var(--color-background-dark);\n  border-radius: var(--border-radius-large);\n  margin-bottom: 20px;\n}\n.toolbar-group[data-v-06137888] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.toolbar-group label[data-v-06137888] {\n  font-weight: bold;\n  margin-right: 5px;\n}\n.column-button[data-v-06137888] {\n  width: 35px;\n  height: 35px;\n  border: 2px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  background: var(--color-main-background);\n  cursor: pointer;\n  font-weight: bold;\n}\n.column-button[data-v-06137888]:hover {\n  background: var(--color-background-hover);\n}\n.column-button.active[data-v-06137888] {\n  background: var(--color-primary);\n  color: white;\n  border-color: var(--color-primary);\n}\n.column-button.small[data-v-06137888] {\n  width: 28px;\n  height: 28px;\n  font-size: 12px;\n}\n.insert-row-container[data-v-06137888] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 8px 0;\n  opacity: 0.6;\n  transition: opacity 0.2s ease;\n}\n.insert-row-container[data-v-06137888]:hover {\n  opacity: 1;\n}\n.insert-row-btn[data-v-06137888] {\n  font-size: 13px;\n}\n.page-row[data-v-06137888] {\n  margin-bottom: 12px;\n  position: relative;\n  padding: 16px;\n  border: 2px dashed transparent;\n  border-radius: var(--border-radius-large);\n}\n.page-row.editable[data-v-06137888] {\n  border-color: var(--color-border);\n}\n.row-controls[data-v-06137888] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 8px;\n  background: transparent;\n  border-radius: var(--border-radius-large);\n  border: 1px solid var(--color-border);\n}\n.page-grid[data-v-06137888] {\n  display: grid;\n  gap: 12px;\n  width: 100%;\n}\n.page-column[data-v-06137888] {\n  min-height: 100px;\n  padding: 10px;\n  border: 2px dashed var(--color-border);\n  border-radius: var(--border-radius-large);\n  background: transparent;\n  position: relative;\n}\n.column-label[data-v-06137888] {\n  position: absolute;\n  top: -10px;\n  left: 10px;\n  background: transparent;\n  padding: 2px 8px;\n  font-size: 12px;\n  color: var(--color-text-maxcontrast);\n  border-radius: var(--border-radius-large);\n}\n.widget-drop-zone[data-v-06137888] {\n  min-height: 80px;\n  transition: background-color 0.2s;\n}\n.page-column.droppable[data-v-06137888] {\n  transition: all 0.2s;\n}\n.page-column.droppable[data-v-06137888]:hover {\n  border-color: var(--color-primary);\n  background: transparent;\n}\n.widget-wrapper[data-v-06137888] {\n  position: relative;\n  margin-bottom: 15px;\n  padding: 10px;\n  border: 1px solid transparent;\n  border-radius: var(--border-radius-large);\n  background: transparent;\n  transition: border-color 0.2s ease;\n}\n.widget-wrapper[data-v-06137888]:hover {\n  border-color: var(--color-border);\n}\n\n/* Divider widget in edit mode - no padding or border */\n.widget-wrapper[data-v-06137888]:has(.widget-divider) {\n  padding: 0;\n  border: none;\n  background: transparent;\n  margin-bottom: 15px;\n}\n\n/* Floating toolbar - Medium/Notion style */\n.floating-toolbar[data-v-06137888] {\n  position: absolute;\n  top: -36px; /* Float above widget */\n  right: 0;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px;\n  background: var(--color-main-background);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1001;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.2s ease;\n}\n.widget-wrapper:hover .floating-toolbar[data-v-06137888] {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n/* Hide toolbar when editing */\n.widget-wrapper.editing .floating-toolbar[data-v-06137888] {\n  opacity: 0 !important;\n  pointer-events: none !important;\n}\n\n/* Divider widgets - show toolbar below instead of above */\n.widget-wrapper:has(.widget-divider) .floating-toolbar[data-v-06137888] {\n  top: auto;\n  bottom: -36px;\n}\n\n/* Drag handle in floating toolbar */\n.floating-toolbar .drag-handle[data-v-06137888] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 8px;\n  background: transparent;\n  border: none;\n  border-radius: var(--border-radius);\n  cursor: grab;\n  color: var(--color-text-maxcontrast);\n  transition: all 0.15s ease;\n}\n.floating-toolbar .drag-handle[data-v-06137888]:hover {\n  background: var(--color-background-hover);\n  color: var(--color-main-text);\n}\n.floating-toolbar .drag-handle[data-v-06137888]:active {\n  cursor: grabbing;\n  background: var(--color-primary-element-light);\n}\n\n/* Compact buttons in toolbar */\n.floating-toolbar[data-v-06137888] .button-vue {\n  min-height: 28px !important;\n  min-width: 28px !important;\n}\n.floating-toolbar[data-v-06137888] .button-vue__icon {\n  height: 16px !important;\n  width: 16px !important;\n}\n.column-add-widget[data-v-06137888] {\n  margin-top: 10px;\n  text-align: center;\n  padding-top: 10px;\n  border-top: 1px dashed var(--color-border);\n}\n.column-add-widget .add-widget-btn[data-v-06137888] {\n  width: 100%;\n}\n.color-preview[data-v-06137888] {\n  width: 20px;\n  height: 20px;\n  border-radius: var(--border-radius-large);\n  border: 1px solid var(--color-border);\n}\n",""]);const r=l}}]);